<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å³æ™‚å¿œç­” - è´è§£ç·´ç¿’</title>
    <style>
        :root {
            /* --- ç»Ÿä¸€é…è‰²æ–¹æ¡ˆ --- */
            --bg-color: #fdfaf5;       /* ç±³è‰²èƒŒæ™¯ */
            --paper-color: #ffffff;    /* å¡ç‰‡èƒŒæ™¯ */
            --text-color: #2c2c2c;     /* ä¸»æ–‡å­— */
            --sub-color: #787878;      /* è¾…åŠ©æ–‡å­— */
            --accent-color: #b33e3e;   /* å¼ºè°ƒè‰² (èŒœè‰²) */
            --accent-light: #fbe9e7;   /* å¼ºè°ƒè‰²æ·¡è‰²èƒŒæ™¯ */
            --border-color: #e0e0e0;   /* è¾¹æ¡†é¢œè‰² */
            --shadow: 0 4px 20px rgba(0,0,0,0.05); /* æŸ”å’Œé˜´å½± */
            
            /* åŠŸèƒ½è‰² */
            --primary-btn: #2c3e50;
            --highlight-purple: #9c27b0;
        }

        body {
            font-family: "Hiragino Kaku Gothic ProN", "Hiragino Sans", "Meiryo", "Microsoft YaHei", -apple-system, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0 0 120px 0; /* Add bottom padding for fixed audio player */
            display: flex;
            flex-direction: column; /* Allow header to stack above container */
            align-items: center;
            min-height: 100vh;
        }

        /* Global Header Style */
        header {
            width: 100%;
            padding: 15px 20px;
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
            background-color: rgba(253, 250, 245, 0.95);
            backdrop-filter: blur(8px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
            margin-bottom: 40px;
        }

        header h1 {
            margin: 0;
            font-size: 18px;
            font-weight: 700;
            color: var(--text-color);
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
        }

        .back-btn {
            text-decoration: none;
            color: var(--text-color);
            font-size: 16px;
            font-weight: bold;
            opacity: 0.7;
            transition: opacity 0.3s;
            cursor: pointer;
            z-index: 2;
        }

        .back-btn:hover { opacity: 1; }

        /* ä¸»å®¹å™¨ */
        .practice-container {
            margin-top: 20px; /* Add space below sticky header */
            margin-bottom: 40px;
            background: var(--paper-color);
            border-radius: 20px;
            max-width: 850px;
            width: 100%;
            padding: 50px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(0,0,0,0.02);
            position: relative;
        }

        /* é¡¶éƒ¨ Header */
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 35px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }

        .question-tag {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .question-tag::before {
            content: "";
            display: block;
            width: 6px;
            height: 24px;
            background-color: var(--accent-color);
            border-radius: 3px;
        }

        .question-meta {
            font-size: 14px;
            color: var(--sub-color);
            font-weight: normal;
            margin-left: 10px;
            background: #f5f5f5;
            padding: 4px 10px;
            border-radius: 4px;
        }

        /* æ¨¡å¼åˆ‡æ¢æŒ‰é’®ä¼˜åŒ– */
        .mode-switch {
            display: flex;
            background: #f0f0f0;
            padding: 4px;
            border-radius: 12px;
        }

        button {
            padding: 8px 16px;
            cursor: pointer;
            border: none;
            background-color: transparent;
            color: #888;
            border-radius: 10px;
            font-weight: 600;
            font-size: 13px;
            transition: all 0.2s ease;
        }

        button.active {
            background-color: #fff;
            color: var(--text-color);
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
        }

        /* Audio Player - Fixed Bottom */
        .audio-wrapper {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 2000;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            padding: 15px 20px 25px 20px;
            display: flex;
            justify-content: center;
            border-top: 1px solid rgba(0,0,0,0.05);
            box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
        }

        .custom-audio-player {
            width: 100%;
            max-width: 850px; /* Match container width */
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .play-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: var(--accent-color);
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            flex-shrink: 0;
            transition: all 0.2s;
            padding: 0;
            box-shadow: 0 4px 10px rgba(179, 62, 62, 0.3);
        }
        
        .play-btn:hover {
            transform: scale(1.05);
            background: #d32f2f;
        }

        .progress-container {
            flex: 1;
            height: 6px;
            background: #eee;
            border-radius: 3px;
            cursor: pointer;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: var(--accent-color);
            border-radius: 3px;
            width: 0%;
            position: relative;
            transition: width 0.1s linear;
        }
        
        .progress-bar::after {
            content: "";
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background: #fff;
            border: 2px solid var(--accent-color);
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.2s;
        }
        
        .progress-container:hover .progress-bar::after {
            opacity: 1;
        }

        .time-display {
            font-size: 12px;
            color: var(--sub-color);
            font-variant-numeric: tabular-nums;
            min-width: 80px;
            text-align: right;
            font-weight: 500;
        }

        /* å†…å®¹åŒºå¸ƒå±€ */
        .content-wrapper {
            display: flex;
            gap: 40px;
            align-items: flex-start;
        }

        /* å·¦ä¾§å›¾ç‰‡ */
        .left-panel {
            flex: 0 0 300px;
        }

        .left-panel img {
            width: 100%;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.06);
            display: block;
            border: 4px solid #fff;
        }

        /* å³ä¾§é¢æ¿ */
        .right-panel {
            flex: 1;
        }

        /* ç»ƒä¹ æ¨¡å¼ä¸‹çš„æ ·å¼ä¼˜åŒ– */
        .mode-practice .left-panel img {
            filter: blur(20px);
            transition: filter 0.5s ease;
        }

        .mode-practice.judged .left-panel img {
            filter: none;
        }

        .mode-practice .right-panel {
            /* ç§»é™¤æ¨¡ç³Šï¼Œå…è®¸æ“ä½œ */
            filter: none;
            opacity: 1;
            pointer-events: auto;
            user-select: auto;
            transition: all 0.5s ease;
        }

        /* ç»ƒä¹ æ¨¡å¼ä¸‹éšè—æ–‡æœ¬å†…å®¹ */
        .mode-practice .dialogue-block,
        .mode-practice .option-text,
        .mode-practice .translation {
            display: none !important;
        }

        /* ç»ƒä¹ æ¨¡å¼ä¸‹æ˜¾ç¤ºé€‰é¡¹å ä½ç¬¦ */
        .mode-practice .options-list li::after {
            content: "é¸æŠè‚¢";
            color: #ccc;
            font-weight: bold;
            font-size: 14px;
        }

        /* ç»ƒä¹ æ¨¡å¼ä¸‹çš„é€‰ä¸­çŠ¶æ€ */
        .mode-practice .options-list li {
            cursor: pointer;
            min-height: 24px;
            display: flex;
            align-items: center;
        }
        
        .mode-practice .options-list li:hover {
            background-color: #f9f9f9;
        }

        .mode-practice .options-list li.selected {
            border-color: var(--primary-btn);
            background-color: #f0f8ff;
            box-shadow: 0 0 0 1px var(--primary-btn);
        }

        .mode-explanation .right-panel {
            filter: blur(0);
            opacity: 1;
            pointer-events: auto;
            transition: all 0.5s ease;
        }

        .mode-explanation .left-panel img {
            filter: none;
        }

        /* å¯¹è¯åŒºå—ä¼˜åŒ– */
        .dialogue-block {
            margin-bottom: 30px;
            position: relative;
        }
        
        .dialogue-label {
            font-size: 12px;
            color: var(--accent-color);
            font-weight: bold;
            margin-bottom: 8px;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .dialogue-text {
            font-size: 16px;
            line-height: 1.8;
            color: var(--text-color);
            font-weight: 500;
        }

        .speaker-name {
            font-weight: bold;
            margin-right: 4px;
        }

        .translation {
            color: var(--sub-color);
            font-size: 13px;
            line-height: 1.6;
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px dashed #eee;
            display: none;
        }

        .mode-explanation .translation { display: block; }

        /* é€‰é¡¹åˆ—è¡¨ä¼˜åŒ– */
        .options-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .options-list li {
            padding: 16px 20px;
            border-radius: 12px;
            border: 1px solid #eee;
            background: #fff;
            transition: all 0.2s ease;
            position: relative;
            padding-left: 45px; /* Space for number */
        }
        
        .mode-explanation .options-list li:hover {
            border-color: var(--accent-color);
            background-color: #fffafa;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.03);
        }

        .options-num {
            position: absolute;
            left: 12px;
            top: 17px; /* Aligned with text line-height */
            width: 18px;
            height: 18px;
            background: #f0f0f0;
            color: #666;
            border-radius: 50%;
            text-align: center;
            line-height: 18px;
            font-size: 12px;
            font-weight: bold;
        }

        .mode-explanation .correct-answer .options-num {
            background: var(--accent-color);
            color: #fff;
        }

        .mode-explanation .correct-answer {
            background-color: var(--accent-light);
            border-color: var(--accent-color);
        }
        
        .option-text {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-color);
        }

        /* å…³é”®è¯æ ·å¼ */
        .keyword {
            color: var(--accent-color);
            border-bottom: 1px solid rgba(179, 62, 62, 0.3);
            cursor: pointer;
            font-weight: bold;
            padding: 0 2px;
            transition: all 0.2s;
        }

        .keyword:hover {
            background-color: var(--accent-light);
            border-bottom-color: var(--accent-color);
        }

        /* Tooltip */
        .custom-tooltip {
            position: absolute;
            background-color: #333;
            color: #fff;
            padding: 10px 14px;
            border-radius: 6px;
            font-size: 13px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            pointer-events: none;
            z-index: 1000;
            display: none;
            max-width: 260px;
            line-height: 1.6;
            --arrow-left: 50%;
        }
        .custom-tooltip::after {
            content: "";
            position: absolute;
            top: 100%; 
            left: var(--arrow-left);
            margin-left: -6px;
            border-width: 6px;
            border-style: solid;
            border-color: #333 transparent transparent transparent;
        }

        /* Header Controls */
        .header-left {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .year-display {
            font-size: 16px;
            font-weight: bold;
            color: var(--text-color);
            background: #f5f5f5;
            padding: 8px 16px;
            border-radius: 8px;
        }
        
        .divider {
            font-size: 20px;
            color: #ddd;
            margin: 0 5px;
            font-weight: 300;
        }

        .question-select {
            padding: 8px 16px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fff;
            color: var(--text-color);
            outline: none;
            font-weight: bold;
            cursor: pointer;
            min-width: 120px;
        }

        /* Mark Button (Dog) */
        .mark-btn {
            font-size: 22px;
            padding: 4px 10px;
            background: none;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            opacity: 0.2; /* Inactive state */
            filter: grayscale(100%);
            transition: all 0.2s ease;
            margin-left: 5px;
        }

        .mark-btn:hover {
            opacity: 0.6;
            transform: scale(1.1);
        }

        .mark-btn.active {
            opacity: 1;
            filter: grayscale(0%);
            transform: scale(1.1);
        }

        .nav-controls {
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .nav-btn {
            padding: 8px 20px;
            background: #f0f0f0;
            border: none;
            border-radius: 8px;
            color: #555;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }

        .nav-btn:hover:not(:disabled) {
            background: #e0e0e0;
            color: #333;
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Confirm Button */
        .confirm-btn {
            padding: 8px 24px;
            background-color: var(--primary-btn);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: all 0.2s;
        }
        .confirm-btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
            box-shadow: 0 6px 14px rgba(0,0,0,0.15);
        }

        /* Practice Mode Results */
        .mode-practice .options-list li.judged-correct {
            background-color: #e8f5e9 !important;
            border-color: #4caf50 !important;
            box-shadow: 0 0 0 1px #4caf50;
        }
        .mode-practice .options-list li.judged-correct::after {
            content: "æ­£è§£" !important;
            color: #2e7d32 !important;
        }

        .mode-practice .options-list li.judged-wrong {
            background-color: #ffebee !important;
            border-color: #ef5350 !important;
            box-shadow: 0 0 0 1px #ef5350;
        }
        .mode-practice .options-list li.judged-wrong::after {
            content: "ä¸æ­£è§£" !important;
            color: #ef5350 !important;
        }

        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .practice-container {
                width: 95%;
                padding: 20px;
                margin-top: 20px;
            }
            .controls {
                flex-direction: column;
                gap: 20px;
                align-items: stretch;
            }
            .audio-player audio { width: 100%; }
            .mode-switch { justify-content: center; }
            .content-wrapper {
                flex-direction: column;
                gap: 20px;
                align-items: stretch;
            }
            .left-panel { flex: none; width: 100%; max-width: 320px; margin: 0 auto; }
            
            /* Mobile Font Adjustments */
            .question-tag { font-size: 18px; }
            .dialogue-text { font-size: 15px; }
            .option-text { font-size: 13px; }
            .translation { font-size: 12px; }

            /* Header Compact Mode for Mobile */
            .header-left { gap: 5px; }
            .year-display {
                font-size: 13px;
                padding: 6px 10px;
            }
            .divider { font-size: 16px; margin: 0 2px; }
            .question-select {
                font-size: 13px;
                padding: 6px 10px;
                min-width: auto;
            }
            .mode-switch button {
                font-size: 12px;
                padding: 6px 12px;
            }
            
            /* Mobile Option Number Alignment */
            .options-num {
                width: 16px;
                height: 16px;
                line-height: 16px;
                font-size: 11px;
                top: 18px; /* Keep aligned with text */
            }
            .options-list li {
                padding-left: 40px;
            }
        }
    </style>
</head>
<body>

    <header>
        <a href="N2_j.html" class="back-btn">â† æˆ»ã‚‹</a>
        <h1>å³æ™‚å¿œç­” - 2010</h1>
    </header>

    <div class="practice-container mode-practice" id="appContainer">
        
        <div class="card-header">
            <div class="header-left">
                <div class="year-display" id="yearLabel"></div>
                <div class="divider">|</div>
                <select id="questionSelect" class="question-select" onchange="changeQuestion(this.value)">
                    <!-- Options populated by JS -->
                </select>
                <button id="markBtn" class="mark-btn" onclick="toggleMark()" title="ã‚ã¨ã§å¾©ç¿’ã™ã‚‹ï¼ˆå¤ä¹ æ ‡è®°ï¼‰">ğŸ¶</button>
            </div>
            <div class="mode-switch">
                <button id="btnPractice" class="active" onclick="setMode('practice')">ç·´ç¿’</button>
                <button id="btnExplanation" onclick="setMode('explanation')">è§£èª¬</button>
            </div>
        </div>

        <div class="content-wrapper">
            <div class="left-panel">
                <img src="" alt="å¯¹è¯åœºæ™¯" id="sceneImage" style="display: none;">
            </div>
            
            <div class="right-panel" id="rightPanel">
                <!-- Content populated by JS -->
                <div class="dialogue-block" id="dialogueBlock"></div>
                <ul class="options-list" id="optionsList"></ul>
                
                <div class="nav-controls">
                    <button id="prevBtn" class="nav-btn" onclick="prevQuestion()">â† å‰ã¸</button>
                    <button id="confirmBtn" class="confirm-btn" onclick="checkAnswer()" style="display: none;">ç¢ºèª</button>
                    <button id="nextBtn" class="nav-btn" onclick="nextQuestion()">æ¬¡ã¸ â†’</button>
                </div>
            </div>
        </div>
    </div>

    <div class="audio-wrapper">
        <div class="custom-audio-player">
            <button class="play-btn" id="playBtn">
                <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13 7.13397C14.3333 7.90377 14.3333 9.82823 13 10.598L2.5 16.6603C1.16667 17.4301 -1.45707e-06 16.4678 -1.38973e-06 14.9282L-8.59795e-07 2.80385C-7.92455e-07 1.26425 1.16667 0.301995 2.5 1.0718L13 7.13397Z" fill="white"/>
                </svg>
            </button>
            <div class="progress-container" id="progressContainer">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="time-display" id="timeDisplay">00:00 / 00:00</div>
            <audio id="audioElement" preload="metadata"></audio>
        </div>
    </div>

    <div id="wordTooltip" class="custom-tooltip"></div>

    <script>
        // --- Data Structure ---
        const examData = {
            "2010-07": {
                label: "2010å¹´7æœˆ",
                questions: [
                    {
                        id: 1,
                        audio: "audio_j/2010.7-1.mp3",
                        image: "image/2010.7-1.png",
                        dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">ã‚ã€å°æ‰€ã®é›»çƒã€<span class="keyword" onclick="showTooltip(event, 'åˆ‡ã‚Œã¡ã‚ƒã£ãŸï¼š\\nã€Œã¦ã—ã¾ã†ã€çš„å£è¯­ç¼©ç•¥å½¢å¼ã€Œã¡ã‚ƒã†ã€çš„ãŸå½¢ï¼Œè¡¨ç¤ºå‘ç”Ÿäº†ä»¤äººé—æ†¾æˆ–éº»çƒ¦çš„ç»“æœï¼Œè¿™é‡ŒæŒ‡â€œç¯æ³¡åæ‰äº†â€ã€‚')">åˆ‡ã‚Œã¡ã‚ƒã£ãŸ</span>ã‚ˆã€‚</span>`,
    translation: "ï¼ˆç”·ï¼šå•Šï¼Œå¨æˆ¿çš„ç¯æ³¡åäº†ã€‚ï¼‰",
    options: [
        { text: "ã‚ã£ã€é›»æ°—ã€ã‚‚ã†æ¶ˆã™ã­ã€‚", translation: "ï¼ˆå•Šï¼Œæˆ‘å…³ç¯äº†å“ˆã€‚ï¼‰", correct: false },
        { text: `ãˆã£ã€æ–°ã—ã„ã®ã€è²·ã£ã¦<span class="keyword" onclick="showTooltip(event, 'ã“ãªãã‚ƒï¼š\\nåŠ¨è¯ã€Œãã‚‹ã€çš„ãªã„å½¢çš„å£è¯­è¡¨è¾¾ã€‚å®Œæ•´å½¢å¼æ˜¯ã€Œã“ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€ï¼Œè¡¨ç¤ºâ€œå¿…é¡»ï¼ˆä¹°ï¼‰å›æ¥â€ã€‚')">ã“ãªãã‚ƒ</span>ã€‚`, translation: "ï¼ˆå“ï¼Œè¦ä¹°æ–°çš„äº†ã€‚ï¼‰", correct: true },
        { text: "ã†ã‚“ã€å°æ‰€ã€ãã‚Œã„ã«ã—ã¦ã­ã€‚", translation: "ï¼ˆå—¯ï¼ŒæŠŠå¨æˆ¿æ‰“æ‰«å¹²å‡€å§ã€‚ï¼‰", correct: false }
    ]
                    },
                    {
    id: 2,
    audio: "audio_j/2010.7-2.mp3",
    image: "image/2010.7-2.png",
    dialogueHtml: `<span class="speaker-name">å¥³ï¼š</span><span class="speaker-text">ã„ã‚‰ã£ã—ã‚ƒã„ã¾ã›ã€‚ä½•ã‹<span class="keyword" onclick="showTooltip(event, 'ãŠæ¢ã—ã§ã™ã‹ï¼š\\nåŠ¨è¯ã€Œæ¢ã™ã€çš„å°Šä»–è¯­è¡¨è¾¾ï¼Œè¡¨ç¤ºå¯¹å¯¹æ–¹çš„å°Šæ•¬ã€‚è¿™é‡Œé€šè¿‡ç–‘é—®çš„æ–¹å¼æ¥è¯¢é—®å¯¹æ–¹æ˜¯å¦åœ¨æ‰¾ä»€ä¹ˆã€‚')">ãŠæ¢ã—ã§ã™ã‹</span>ã€‚</span>`,
    translation: "ï¼ˆæ¬¢è¿å…‰ä¸´ã€‚æ‚¨åœ¨æ‰¾ä»€ä¹ˆå—ï¼Ÿï¼‰",
    options: [
        { text: "ã‚ã€ã¡ã‚‡ã£ã¨è¦‹ã¦ã‚‹ã ã‘ã§ã™ã€‚", translation: "ï¼ˆå•Šï¼Œæˆ‘åªæ˜¯éšä¾¿çœ‹çœ‹ã€‚ï¼‰", correct: true },
        { text: `ã„ã„ãˆã€ã•ã£ãæ¥<span class="keyword" onclick="showTooltip(event, 'ãŸã°ã‹ã‚Šï¼š\\næ¥åœ¨åŠ¨è¯ã€ŒãŸå½¢ã€åï¼Œè¡¨ç¤ºåŠ¨ä½œåˆšåˆšå‘ç”Ÿæˆ–å®Œæˆã€‚')">ãŸã°ã‹ã‚Š</span>ã§ã™ã€‚`, translation: "ï¼ˆä¸ï¼Œæˆ‘åˆšæ¥ã€‚ï¼‰", correct: false },
        { text: `ã¯ã„ã€ãªã‚“ã§ã‚‚<span class="keyword" onclick="showTooltip(event, 'ã‘ã£ã“ã†ï¼š\\nå½¢å®¹åŠ¨è¯ï¼Œè¡¨ç¤ºâ€œè¶³å¤Ÿâ€ã€â€œå¯ä»¥â€æˆ–å©‰æ‹’ã€‚')">ã‘ã£ã“ã†</span>ã§ã™ã€‚`, translation: "ï¼ˆæ˜¯çš„ï¼Œä»€ä¹ˆéƒ½å¯ä»¥ã€‚ï¼‰", correct: false }
    ]
},
{
    id: 3,
    audio: "audio_j/2010.7-3.mp3",
    image: "image/2010.7-3.png",
    dialogueHtml: `<span class="speaker-name">å¥³ï¼š</span><span class="speaker-text"><span class="keyword" onclick="showTooltip(event, 'ã‚„ã‚‹ã ã‘ã®ã“ã¨ã¯ã‚„ã£ãŸï¼š\\nè¿™é‡Œä½¿ç”¨äº†ã€ŒåŠ¨è¯åŸå½¢ï¼‹ã ã‘ã€çš„å¥å¼ï¼Œè¡¨ç¤ºâ€œå°½æœ€å¤§å¯èƒ½çš„é™åº¦â€ã€‚ç»“å°¾çš„ã€Œã‚„ã£ãŸã€æ˜¯ã€Œã‚„ã‚‹ã€çš„ãŸå½¢ï¼Œè¡¨ç¤ºåŠ¨ä½œå®Œæˆã€‚\\nè¿™å¥è¯æœ¬èº«çš„æ„æ€æ˜¯â€œèƒ½åšçš„åŠªåŠ›éƒ½å·²ç»åšäº†â€ï¼Œè¡¨ç¤ºæ‹¼å°½å…¨åŠ›ï¼Œæ²¡æœ‰é—æ†¾äº†ã€‚')">ã‚„ã‚‹ã ã‘ã®ã“ã¨ã¯ã‚„ã£ãŸ</span>ã—ã€<span class="keyword" onclick="showTooltip(event, 'ã‚ã¨ã€œã ã‘ï¼š\\nè¡¨ç¤ºâ€œå‰©ä¸‹çš„äº‹æƒ…å°±åªæœ‰â€¦â€¦äº†â€ã€‚')">ã‚ã¨</span>ã¯åˆæ ¼ç™ºè¡¨ã®æ—¥ã‚’å¾…ã¤<span class="keyword" onclick="showTooltip(event, 'ã‚ã¨ã€œã ã‘ï¼š\\nè¡¨ç¤ºâ€œå‰©ä¸‹çš„äº‹æƒ…å°±åªæœ‰â€¦â€¦äº†â€ã€‚')">ã ã‘</span>ã ã­ã€‚</span>`,
    translation: "ï¼ˆèƒ½åšçš„éƒ½å·²ç»åšäº†ï¼Œæ¥ä¸‹æ¥å°±åªå‰©ç­‰åˆæ ¼å‘è¡¨çš„é‚£ä¸€å¤©äº†ã€‚ï¼‰",
    options: [
        { text: "æœ¬å½“ã«æ‚”ã—ã„ã­ã€‚", translation: "ï¼ˆçœŸçš„å¥½ä¸ç”˜å¿ƒå•Šã€‚ï¼‰", correct: false },
        { text: "ã‚‚ã†å°‘ã—é ‘å¼µã‚‹ã—ã‹ãªã„ã‹ã€‚", translation: "ï¼ˆçœ‹æ¥åªèƒ½å†å¤šåŠ æŠŠåŠ²äº†ã€‚ï¼‰", correct: false },
        { text: `ä»Šåº¦<span class="keyword" onclick="showTooltip(event, 'ã“ãï¼š\\nè¡¨ç¤ºå¼ºçƒˆçš„å¼ºè°ƒï¼Œæ„æ€æ˜¯â€œå”¯æœ‰è¿™æ¬¡â€ã€â€œè¿™æ¬¡ä¸€å®šâ€ã€‚')">ã“ã</span>ã€å—ã‹ã‚ŠãŸã„ã‚ˆã­ã€‚`, translation: "ï¼ˆè¿™ä¸€æ¬¡ä¸€å®šè¦è€ƒä¸Šå•Šã€‚ï¼‰", correct: true }
    ]
},
{
    id: 4,
    audio: "audio_j/2010.7-4.mp3",
    image: "image/2010.7-4.png",
    dialogueHtml: `<span class="speaker-name">å¥³ï¼š</span><span class="speaker-text">ã‚ã®ã†ã€ãŠèŒ¶ã§ã‚‚<span class="keyword" onclick="showTooltip(event, 'ã„ã‹ãŒã§ã™ã‹ï¼š\\nã€Œã©ã†ã§ã™ã‹ã€çš„æ›´ä¸ºç¤¼è²Œçš„è¯´æ³•ï¼Œæ„ä¸ºâ€œæ€ä¹ˆæ ·â€ï¼Œå¸¸ç”¨äºå‘å¯¹æ–¹æå‡ºå»ºè®®æˆ–åŠè¯±ã€‚')">ã„ã‹ãŒã§ã™ã‹</span>ã€‚</span>`,
    translation: "ï¼ˆé‚£ä¸ªï¼Œè¦æ¥ç‚¹èŒ¶å—ï¼Ÿï¼‰",
    options: [
        { text: `<span class="keyword" onclick="showTooltip(event, 'ãŠä¸–è©±ã«ãªã£ã¦ï¼š\\nã€ŒãŠä¸–è©±ã«ãªã‚‹ã€çš„ã¦å½¢ï¼Œç»“åˆåé¢çš„ã€ŒãŠã‚Šã¾ã™ã€æ„æˆäº†ã€Œã¦ã„ã‚‹å½¢ã€çš„è‡ªè°¦å½¢å¼ï¼Œè¡¨ç¤ºä¸€ç›´ä»¥æ¥å¾—åˆ°å¯¹æ–¹çš„å…³ç…§ã€‚')">ãŠä¸–è©±ã«ãªã£ã¦</span>ãŠã‚Šã¾ã™ã€‚`, translation: "ï¼ˆæ‰¿è’™å…³ç…§äº†ã€‚ï¼‰", correct: false },
        { text: "ã¯ã„ã€å¤§å¤‰ãŠã„ã—ã‹ã£ãŸã§ã™ã€‚", translation: "ï¼ˆå—¯ï¼Œéå¸¸å¥½å–ã€‚ï¼‰", correct: false },
        { text: `ã™ã¿ã¾ã›ã‚“ã€‚ã©ã†ã<span class="keyword" onclick="showTooltip(event, 'ãŠæ§‹ã„ãªãï¼š\\nè¡¨ç¤ºâ€œè¯·åˆ«å¼ ç½—äº†â€ã€â€œä¸ç”¨éº»çƒ¦äº†â€ï¼Œå¸¸ç”¨äºå®¢æ°”åœ°å©‰æ‹’åˆ«äººä¸»åŠ¨æä¾›çš„æ‹›å¾…ã€‚')">ãŠã‹ã¾ã„ãªã</span>ã€‚`, translation: "ï¼ˆè°¢è°¢ï¼Œä¸ç”¨è¿™ä¹ˆå®¢æ°”ã€‚ï¼‰", correct: true }
    ]
},
{
    id: 5,
    audio: "audio_j/2010.7-5.mp3",
    image: "image/2010.7-5.png",
    dialogueHtml: `<span class="speaker-name">å¥³ï¼š</span><span class="speaker-text">ã­ãˆã€å±±ç”°ã•ã‚“ã€å‚åŠ ã§ããªã„ã®ãªã‚‰ã€ã‚‚ã†å°‘ã—æ—©ãæ•™ãˆã¦ãã‚Œ<span class="keyword" onclick="showTooltip(event, 'ãªãã¡ã‚ƒï¼š\\ã€Œãªãã¦ã¯ã„ã‘ãªã„ã€æˆ–ã€Œãªãã¦ã¯ãªã‚‰ãªã„ã€çš„å£è¯­è¡¨è¾¾ï¼Œè¡¨ç¤ºâ€œå¿…é¡»â€ã€‚åœ¨è¿™æ˜¯æš—ç¤ºå¯¹æ–¹å¹¶æ²¡æœ‰åšè¿™ä»¶äº‹ï¼Œå¸¦æœ‰è´£å¤‡ä¹‹æ„')">ãªãã¡ã‚ƒ</span>ã€‚</span>`,
    translation: "ï¼ˆå–‚ï¼Œå±±ç”°å…ˆç”Ÿï¼Œå¦‚æœä¸èƒ½å‚åŠ çš„è¯ï¼Œå¾—æ—©ç‚¹å‘Šè¯‰æˆ‘æ‰è¡Œå•Šã€‚ï¼‰",
    options: [
        { text: "ãˆã£ã€é€£çµ¡ãŒå¿…è¦ã ã£ãŸã‚“ã ã€‚", translation: "ï¼ˆå’¦ï¼Œè¿˜éœ€è¦æå‰è”ç³»å•Šã€‚ï¼‰", correct: true },
        { text: `ãã†ã€<span class="keyword" onclick="showTooltip(event, 'ä»Šåº¦ï¼š\\nåè¯ï¼Œè¡¨ç¤ºâ€œä¸‹æ¬¡â€ã€â€œè¿™æ¬¡â€ã€‚')">ä»Šåº¦</span>ã¯æ•™ãˆã¦ã‚‚ã‚‰ãˆã‚‹<span class="keyword" onclick="showTooltip(event, 'ã¨ã„ã„ï¼š\\nè¡¨ç¤ºå¸Œæœ›ã€æ„¿æœ›ï¼Œæ„ä¸ºâ€œè¦æ˜¯â€¦â€¦å°±å¥½äº†â€ã€‚')">ã¨ã„ã„</span>ã­ã€‚`, translation: "ï¼ˆæ˜¯å•Šï¼Œå¸Œæœ›ä¸‹æ¬¡èƒ½æ—©ç‚¹å‘Šè¯‰æˆ‘ã€‚ï¼‰", correct: false },
        { text: "å°‘ã—ã§ã‚‚æ—©ãå‚åŠ ã—ãŸã‹ã£ãŸã‚“ã ã€‚", translation: "ï¼ˆæˆ‘ä¹Ÿæƒ³å°½æ—©å‚åŠ çš„ã€‚ï¼‰", correct: false }
    ]
},
{
    id: 6,
    audio: "audio_j/2010.7-6.mp3",
    image: "image/2010.7-6.png",
    dialogueHtml: `<span class="speaker-name">å¥³ï¼š</span><span class="speaker-text"><span class="keyword" onclick="showTooltip(event, 'ãŸã—ã‹ï¼š\\nå‰¯è¯ï¼Œè¡¨ç¤ºå‡­è®°å¿†è¿›è¡Œæ¨æµ‹ï¼Œå«æœ‰ä¸å¤ªç¡®å®šçš„è¯­æ°”ï¼Œæ„æ€æ˜¯â€œå¥½åƒâ€ã€â€œè®°å¾—â€ã€‚')">ãŸã—ã‹</span>ã€ã‚ã—ãŸä¸­å­¦ã®æ™‚ã®ã‚¯ãƒ©ã‚¹ä¼šã ã£ãŸã‚ˆã­ã€‚è¡Œã<span class="keyword" onclick="showTooltip(event, 'ã‚“ã§ã—ã‚‡ã†ï¼š\\nã€Œã®ã€çš„å£è¯­å½¢å¼ã€Œã‚“ã€åŠ ä¸Šæ¨æµ‹è¡¨è¾¾ã€Œã§ã—ã‚‡ã†ã€ï¼Œåœ¨è¿™é‡Œç”¨äºå‘å¯¹æ–¹ç¡®è®¤ï¼Œæ„æ€æ˜¯â€œâ€¦â€¦çš„å§â€ã€‚')">ã‚“ã§ã—ã‚‡ã†</span>ã€‚</span>`,
    translation: "ï¼ˆæˆ‘è®°å¾—å¥½åƒæ˜å¤©æ˜¯ä¸­å­¦åŒå­¦ä¼šå§ï¼Ÿä½ ä¼šå»çš„å§ã€‚ï¼‰",
    options: [
        { text: `<span class="keyword" onclick="showTooltip(event, 'æ¥½ã—ã¿ã«ã—ã¦ã‚‹ï¼š\\nã€Œæ¥½ã—ã¿ã«ã™ã‚‹ã€ï¼ˆæœŸå¾…ï¼‰åŠ ä¸Šè¡¨ç¤ºçŠ¶æ€çš„ã€Œã¦ã„ã‚‹å½¢ã€çš„å£è¯­çœç•¥å½¢å¼ã€Œã¦ã‚‹ã€ï¼Œæ„æ€æ˜¯â€œä¸€ç›´æœŸå¾…ç€â€ã€‚')">æ¥½ã—ã¿ã«ã—ã¦ã‚‹</span>ã‚“ã ã€‚`, translation: "ï¼ˆæˆ‘æ­£æœŸå¾…ç€å‘¢ã€‚ï¼‰", correct: true },
        { text: `<span class="keyword" onclick="showTooltip(event, 'æ¥½ã—ã‚“ã§ãã¦ï¼š\\nåŠ¨è¯ã€Œæ¥½ã—ã‚€ã€çš„ã¦å½¢åŠ ä¸Šã€Œãã‚‹ã€çš„ã¦å½¢ï¼Œè¡¨ç¤ºå»åšæŸäº‹å¹¶å›æ¥ï¼Œæ„æ€æ˜¯â€œå»å¥½å¥½äº«å—ä¸€ç•ªå§â€ã€‚è¿™æ˜¯ç»™äºˆå¯¹æ–¹çš„æ„è§ï¼Œè€Œä¸æ˜¯å‘è¡¨è‡ªèº«çš„æƒ…æ„Ÿã€‚')">æ¥½ã—ã‚“ã§ãã¦</span>ã­ã€‚`, translation: "ï¼ˆç¥ä½ ç©å¾—å¼€å¿ƒã€‚ï¼‰", correct: false },
        { text: "ãŸã®ã—ã„ã§ã—ã‚‡ã†ã€‚", translation: "ï¼ˆåº”è¯¥ä¼šå¾ˆæœ‰è¶£å§ã€‚ï¼‰", correct: false }
    ]
},
{
    id: 7,
    audio: "audio_j/2010.7-7.mp3",
    image: "image/2010.7-7.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">æ˜¨æ—¥ã€ã¾ãŸé›»æ°—ã€<span class="keyword" onclick="showTooltip(event, 'ã¤ã‘ã£ã±ãªã—ï¼š\\nåŠ¨è¯ã€Œã¤ã‘ã‚‹ã€çš„ç¬¬ä¸€è¿ç”¨å½¢åŠ ä¸Šã€Œã£ã±ãªã—ã€ï¼Œè¡¨ç¤ºæŸç§çŠ¶æ€ä¸€ç›´æŒç»­ï¼Œæ”¾ç½®ä¸ç®¡ã€‚è¿™é‡Œæ„æ€æ˜¯â€œä¸€ç›´å¼€ç€â€ã€‚')">ã¤ã‘ã£ã±ãªã—</span>ã§å¯ã¦ãŸã­ã€‚</span>`,
    translation: "ï¼ˆæ˜¨å¤©ä½ åˆå¼€ç€ç¯ç¡ç€äº†å‘€ã€‚ï¼‰",
    options: [
        { text: `<span class="keyword" onclick="showTooltip(event, 'ã¤ã‘ã¦ãŠã„ã¦ï¼š\\nåŠ¨è¯ã€Œã¤ã‘ã‚‹ã€çš„ã¦å½¢åŠ ä¸Šã€ŒãŠãã€çš„ã¦å½¢ï¼Œè¡¨ç¤ºäº‹å…ˆåšå¥½å‡†å¤‡æˆ–è®©æŸç§çŠ¶æ€ä¿æŒä¸‹å»ã€‚è¿™é‡ŒæŒ‡â€œç‰¹æ„å¼€ç€ç¯â€ã€‚')">ã¤ã‘ã¦ãŠã„ã¦</span>ãã‚ŒãŸã‚“ã ã­ã€‚ã‚ã‚ŠãŒã¨ã†ã€‚`, translation: "ï¼ˆåŸæ¥æ˜¯ç‰¹æ„ç•™ç¯ç»™æˆ‘å•Šï¼Œè°¢è°¢ã€‚ï¼‰", correct: false },
        { text: `<span class="keyword" onclick="showTooltip(event, 'ã ã£ã¦ï¼š\\nå¤šç”¨äºå£è¯­ï¼Œç”¨æ¥ä¸ºè‡ªå·±è¾©è§£æˆ–è¯´æ˜åŸå› ï¼Œæ„æ€æ˜¯â€œå› ä¸ºâ€¦â€¦å˜›â€ã€‚')">ã ã£ã¦</span>ã€æš—ã„æ–¹ãŒå¥½ãã ã‹ã‚‰ã€‚`, translation: "ï¼ˆå› ä¸ºæˆ‘å–œæ¬¢é»‘ç€ç¯å‘€ã€‚ï¼‰", correct: false },
        { text: "ã”ã‚ã‚“ã€‚æœ¬èª­ã‚“ã§ã¦ã€å¯ã¡ã‚ƒã£ãŸã¿ãŸã„ã€‚", translation: "ï¼ˆæŠ±æ­‰ï¼Œçœ‹æ¥æ˜¯çœ‹ä¹¦æ—¶ä¸å°å¿ƒç¡ç€äº†ã€‚ï¼‰", correct: true }
    ]
},
{
    id: 8,
    audio: "audio_j/2010.7-8.mp3",
    image: "image/2010.7-8.png",
    dialogueHtml: `<span class="speaker-name">å¥³ï¼š</span><span class="speaker-text">ã•ã£ãè¨€ã£ã¦ãŸæœ¬ã€ä»Šåº¦ã€è²¸ã—<span class="keyword" onclick="showTooltip(event, 'ã¦ã‚‚ã‚‰ãˆã‚‹ã¨ã†ã‚Œã—ã„ï¼š\\nã€Œã¦ã‚‚ã‚‰ãˆã‚‹ã€æ˜¯ã€Œã¦ã‚‚ã‚‰ã†ã€çš„èƒ½åŠ¨æ€ï¼Œè¡¨ç¤ºâ€œèƒ½å¾—åˆ°ï¼ˆæŸäººåšæŸäº‹ï¼‰â€ã€‚æ¥ä¸Šã€Œã¨ã€å’Œã€Œã†ã‚Œã—ã„ã€ï¼Œè¡¨ç¤ºâ€œå¦‚æœèƒ½â€¦â€¦çš„è¯æˆ‘ä¼šå¾ˆé«˜å…´â€ï¼Œç”¨äºå§”å©‰åœ°æå‡ºè¯·æ±‚ã€‚')">ã¦ã‚‚ã‚‰ãˆã‚‹ã¨ã†ã‚Œã—ã„</span><span class="keyword" onclick="showTooltip(event, 'ã‚“ã ã‘ã©ï¼š\\nã€Œã‚“ã€æ˜¯ã€Œã®ã€çš„å£è¯­å½¢å¼ï¼Œç”¨äºè¯´æ˜æƒ…å†µï¼›ã€Œã ã‘ã©ã€ç”¨äºé“ºå«ã€‚åˆèµ·æ¥ç”¨æ¥å¼•å‡ºè¯é¢˜æˆ–è¯·æ±‚ï¼Œä½¿è¯­æ°”æ›´å§”å©‰ã€‚')">ã‚“ã ã‘ã©</span>ã€‚</span>`,
    translation: "ï¼ˆä½ åˆšæ‰æåˆ°çš„é‚£æœ¬ä¹¦ï¼Œä¸‹æ¬¡èƒ½å€Ÿç»™æˆ‘çœ‹çœ‹å°±å¥½äº†ã€‚ï¼‰",
    options: [
        { text: `<span class="keyword" onclick="showTooltip(event, 'ã“ã£ã¡ã“ãï¼š\\nã€Œã“ã£ã¡ã€æŒ‡è‡ªå·±è¿™è¾¹ï¼›ã€Œã“ãã€è¡¨ç¤ºå¼ºè°ƒã€‚åˆèµ·æ¥è¡¨ç¤ºâ€œæˆ‘æ‰ï¼ˆåº”è¯¥â€¦â€¦ï¼‰â€ã€‚')">ã“ã£ã¡ã“ã</span>ã€åŠ©ã‹ã£ãŸã‚ˆã€‚`, translation: "ï¼ˆåº”è¯¥æ˜¯æˆ‘æ›´å¾—æ„Ÿè°¢ä½ æ‰å¯¹ã€‚ï¼‰", correct: false },
        { text: `ã†ã‚“ã€å¿˜ã‚Œãªã„<span class="keyword" onclick="showTooltip(event, 'ã‚ˆã†ã«ã™ã‚‹ï¼š\\næ¥åœ¨åŠ¨è¯åŸºæœ¬å½¢æˆ–ã€Œãªã„å½¢ã€ä¹‹åï¼Œè¡¨ç¤ºä¸ºäº†è¾¾åˆ°æŸç§çŠ¶æ€æˆ–ç»“æœè€Œä¸»è§‚ä¸ŠåŠªåŠ›ï¼Œæ„æ€æ˜¯â€œå°½é‡åšåˆ°â€¦â€¦â€ã€‚')">ã‚ˆã†ã«ã™ã‚‹</span>ã­ã€‚`, translation: "ï¼ˆå¥½ï¼Œæˆ‘ä¼šè®°å¾—å¸¦æ¥çš„ã€‚ï¼‰", correct: true },
        { text: `ã˜ã‚ƒã‚ã€<span class="keyword" onclick="showTooltip(event, 'æ‚ªã„ã‘ã©ï¼š\\nå£è¯­ä¸­å¸¸ç”¨çš„å®¢å¥—è¯ï¼Œæ„æ€æ˜¯â€œä¸å¥½æ„æ€ï¼Œéº»çƒ¦ä½ äº†â€ï¼Œå¤šç”¨äºæ‹œæ‰˜åˆ«äººåšäº‹ä¹‹å‰ã€‚')">æ‚ªã„ã‘ã©</span>ã€ãŠé¡˜ã„ã­ã€‚`, translation: "ï¼ˆé‚£å°±éº»çƒ¦ä½ å•¦ã€‚ï¼‰", correct: false }
    ]
},
{
    id: 9,
    audio: "audio_j/2010.7-9.mp3",
    image: "image/2010.7-9.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">ã‚ã®ã†ã€ã“ã¡ã‚‰ã§å±±ç”°èª²é•·ã¨<span class="keyword" onclick="showTooltip(event, 'ãŠä¼šã„ã™ã‚‹ï¼š\\nã€ŒãŠï¼‹åŠ¨è¯ç¬¬ä¸€è¿ç”¨å½¢ï¼‹ã™ã‚‹ã€æ„æˆçš„è‡ªè°¦è¯­ï¼Œé€šè¿‡é™ä½è‡ªå·±çš„åŠ¨ä½œæ¥è¡¨ç¤ºå¯¹å¯¹æ–¹çš„å°Šæ•¬ã€‚è¿™é‡ŒæŒ‡â€œæˆ‘è§ï¼ˆå±±ç”°ç§‘é•¿ï¼‰â€ã€‚')">ãŠä¼šã„ã™ã‚‹</span>ç´„æŸãª<span class="keyword" onclick="showTooltip(event, 'ã‚“ã§ã™ãŒï¼š\\nã€Œã‚“ã€ç”¨äºå®¢è§‚è¯´æ˜æƒ…å†µï¼›ã€Œã§ã™ãŒã€åœ¨è¿™é‡Œä¸è¡¨è½¬æŠ˜ï¼Œè€Œæ˜¯èµ·é“ºå«ä½œç”¨ï¼Œä»¥ç¼“å’Œè¯­æ°”å¼•å‡ºè¯å¤´ï¼Œæš—ç¤ºå¸Œæœ›å¯¹æ–¹å¸®å¿™é€šæŠ¥ã€‚')">ã‚“ã§ã™ãŒ</span>ã€‚</span>`,
    translation: "ï¼ˆé‚£ä¸ªï¼Œæˆ‘çº¦å¥½åœ¨è¿™é‡Œè§å±±ç”°ç§‘é•¿ã€‚ï¼‰",
    options: [
        { text: "ãŠä¼šã„ã§ãã¦ã€è‰¯ã‹ã£ãŸã§ã™ã€‚", translation: "ï¼ˆå¾ˆé«˜å…´èƒ½è§åˆ°æ‚¨ã€‚ï¼‰", correct: false },
        { text: `ã¯ã„ã€<span class="keyword" onclick="showTooltip(event, 'å°‘ã€…ï¼š\\nå‰¯è¯ï¼Œè¡¨ç¤ºâ€œç¨å¾®â€ã€â€œä¸€ç‚¹ç‚¹â€ï¼Œæ¯”ã€Œå°‘ã—ã€æ›´ä¸ºéƒ‘é‡ã€ç¤¼è²Œï¼Œå¸¸ç”¨äºå•†åŠ¡æˆ–æœåŠ¡ç­‰æ­£å¼åœºåˆã€‚')">å°‘ã€…</span>ãŠå¾…ã¡ãã ã•ã„ã€‚`, translation: "ï¼ˆå¥½çš„ï¼Œè¯·ç¨ç­‰ã€‚ï¼‰", correct: true },
        { text: "ç¢ºã‹ã«ãŠç´„æŸã„ãŸã—ã¾ã™ã€‚", translation: "ï¼ˆæˆ‘ä¿è¯ä¸€å®šåŠåˆ°ã€‚ï¼‰", correct: false }
    ]
},
{
    id: 10,
    audio: "audio_j/2010.7-10.mp3",
    image: "image/2010.7-10.png",
    dialogueHtml: `<span class="speaker-name">å¥³ï¼š</span><span class="speaker-text">ã‚ã‚ã€ç”°ä¸­ã•ã‚“ã®ã”ä¸»äººã§ã™ã‹ã€‚åˆã‚ã¾ã—ã¦ã€‚</span>`,
    translation: "ï¼ˆå•Šï¼Œæ‚¨æ˜¯ç”°ä¸­å¥³å£«çš„ä¸ˆå¤«å—ï¼Ÿåˆæ¬¡è§é¢ã€‚ï¼‰",
    options: [
        { text: `å¤§å¤‰<span class="keyword" onclick="showTooltip(event, 'ã”ç„¡æ²™æ±°ã—ã¦ï¼š\\nã€Œã”ç„¡æ²™æ±°ã™ã‚‹ã€çš„ã¦å½¢ï¼Œæ„ä¸ºâ€œä¹…ç–é—®å€™â€ã€â€œå¥½ä¹…ä¸è§â€ï¼Œç”¨äºè¾ƒé•¿ä¸€æ®µæ—¶é—´æ²¡æœ‰ä¸å¯¹æ–¹è”ç³»æ—¶çš„å®¢æ°”è¡¨è¾¾ã€‚ç”±äºå¯¹è¯ä¸­æåˆ°æ˜¯â€œåˆã‚ã¾ã—ã¦ï¼ˆåˆæ¬¡è§é¢ï¼‰â€ï¼Œå› æ­¤è¯¥é€‰é¡¹ä¸ç¬¦åˆè¯­å¢ƒã€‚')">ã”ç„¡æ²™æ±°ã—ã¦</span>ãŠã‚Šã¾ã™ã€‚`, translation: "ï¼ˆçœŸæ˜¯å¥½ä¹…ä¸è§äº†ã€‚ï¼‰", correct: false },
        { text: "ã¯ã„ã€ç›¸å¤‰ã‚ã‚‰ãšã§ã™ã€‚", translation: "ï¼ˆæ˜¯çš„ï¼Œè€æ ·å­ã€‚ï¼‰", correct: false },
        { text: "å¦»ãŒãŠä¸–è©±ã«ãªã£ã¦ãŠã‚Šã¾ã™ã€‚", translation: "ï¼ˆä¸€ç›´æ‰¿è’™æ‚¨ç…§é¡¾å®¶å†…ã€‚ï¼‰", correct: true }
    ]
},
{
    id: 11,
    audio: "audio_j/2010.7-11.mp3",
    image: "image/2010.7-11.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">ãã®ã†ã­ã€ã“ã®è§’ã§ã€è‡ªè»¢è»Šã«ã¶ã¤ã‹ã‚Š<span class="keyword" onclick="showTooltip(event, 'ãã†ã«ãªã£ã¡ã‚ƒã£ãŸï¼š\\nã€ŒåŠ¨è¯ç¬¬ä¸€è¿ç”¨å½¢ï¼‹ãã†ã«ãªã‚‹ã€ï¼Œè¡¨ç¤ºäº‹æƒ…çœ¼çœ‹å°±è¦å‘ç”Ÿï¼Œæ„æ€æ˜¯â€œå·®ç‚¹å„¿å°±â€¦â€¦â€ã€‚ã€Œãªã£ã¡ã‚ƒã£ãŸã€æ˜¯ã€Œãªã£ã¦ã—ã¾ã£ãŸã€çš„å£è¯­ç¼©ç•¥å½¢å¼ï¼Œå³ã€Œãªã‚‹ã€çš„ã¦å½¢æ¥ä¸Šã€Œã¦ã—ã¾ã†ã€çš„å£è¯­å½¢å¼ã€Œã¡ã‚ƒã†ã€çš„ãŸå½¢ï¼Œå¸¦æœ‰åæ€•æˆ–é—æ†¾çš„è¯­æ°”ã€‚')">ãã†ã«ãªã£ã¡ã‚ƒã£ãŸ</span>ã‚“ã ã€‚</span>`,
    translation: "ï¼ˆæ˜¨å¤©æˆ‘åœ¨è¿™ä¸ªæ‹è§’å·®ç‚¹æ’ä¸Šè‡ªè¡Œè½¦äº†ã€‚ï¼‰",
    options: [
        { text: `ã‚ã¶ãªã„ã‚“ã <span class="keyword" onclick="showTooltip(event, 'ã‚ˆã­ï¼š\\nå¥å°¾è¯­æ°”è¯ã€Œã‚ˆã€è¡¨ç¤ºä¸»å¼ æˆ–æé†’å¯¹æ–¹æ³¨æ„ï¼Œã€Œã­ã€è¡¨ç¤ºå¯»æ±‚å¯¹æ–¹çš„åŒæ„æˆ–åŒæ„Ÿã€‚ä¸¤è€…è¿åœ¨ä¸€èµ·ä½¿ç”¨ï¼Œè¡¨ç¤ºåœ¨é™ˆè¿°è‡ªå·±æ„Ÿå—çš„åŒæ—¶å¯»æ±‚å¯¹æ–¹çš„å…±é¸£ï¼Œæ„æ€æ˜¯â€œâ€¦â€¦å¯¹å§â€ã€‚')">ã‚ˆã­</span>ã€‚ã“ã“`, translation: "ï¼ˆè¿™åœ°æ–¹æŒºå±é™©çš„å•Šã€‚ï¼‰", correct: true },
        { text: "ãƒ˜ãˆã€ç—›ã‹ã£ãŸã§ã—ã‚‡ã†ã€‚", translation: "ï¼ˆå“å‘€ï¼Œé‚£è‚¯å®šå¾ˆç–¼å§ï¼Ÿï¼‰", correct: false },
        { text: "ã“ã“ã¯å•é¡Œãªã„ã‚ˆã€‚", translation: "ï¼ˆè¿™å„¿æ²¡ä»€ä¹ˆé—®é¢˜å•¦ã€‚ï¼‰", correct: false }
    ]
},
{
    id: 12,
    audio: "audio_j/2010.7-12.mp3",
    image: "image/2010.7-12.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">å›ã€<span class="keyword" onclick="showTooltip(event, 'ãªã‚“ã¦ã“ã¨ï¼š\\nâ€œå¤šä¹ˆï¼ˆç³Ÿç³•çš„ï¼‰äº‹æƒ…â€ã€‚åœ¨è¿™é‡Œå¸¦æœ‰å¼ºçƒˆçš„è´£å¤‡å’Œä¸æ»¡è¯­æ°”ï¼ŒæŒ‡ä»£å¯¹æ–¹çŠ¯ä¸‹çš„ä¸¥é‡é”™è¯¯ã€‚')">ãªã‚“ã¦ã“ã¨</span>ã‚’ã—<span class="keyword" onclick="showTooltip(event, 'ã¦ãã‚ŒãŸï¼š\\ã¦å½¢åŠ ä¸Šã€Œãã‚Œã‚‹ã€ã€‚è™½ç„¶å½¢å¼ä¸Šè¡¨ç¤ºâ€œä¸ºæˆ‘åšæŸäº‹â€ï¼Œä½†åœ¨è¿™é‡Œæ˜¯è¯´åè¯ï¼Œè¡¨ç¤ºå¯¹æ–¹çš„è¡Œä¸ºç»™è‡ªå·±é€ æˆäº†æå¤§çš„éº»çƒ¦æˆ–æŸå®³ã€‚')">ã¦ãã‚ŒãŸ</span>ã‚“ã ã€‚</span>`,
    translation: "ï¼ˆçœ‹çœ‹ä½ éƒ½å¹²äº†äº›ä»€ä¹ˆå¥½äº‹ï¼ï¼‰",
    options: [
        { text: `ã„ã„ãˆã€<span class="keyword" onclick="showTooltip(event, 'ã¨ã‚“ã§ã‚‚ãªã„ï¼š\\nå½¢å®¹è¯ï¼Œæ„ä¸ºâ€œæ²¡æœ‰çš„äº‹â€ã€â€œå“ªé‡Œçš„è¯â€ã€‚å¤šç”¨äºå¼ºçƒˆå¦å®šå¯¹æ–¹çš„èµç¾ä»¥ç¤ºè°¦è™šï¼Œä¸èƒ½ç”¨äºå›åº”åˆ«äººçš„è´£å¤‡ã€‚')">ã¨ã‚“ã§ã‚‚ãªã„</span>ã§ã™ã€‚`, translation: "ï¼ˆå“ªé‡Œï¼Œå“ªæ•¢å½“ã€‚ï¼‰", correct: false },
        { text: `<span class="keyword" onclick="showTooltip(event, 'æç¸®ï¼š\\nåè¯æˆ–å½¢å®¹åŠ¨è¯ï¼Œè¡¨ç¤ºâ€œæƒ¶æâ€ã€â€œè¿‡æ„ä¸å»â€ã€‚å¸¸ç”¨äºç»™åˆ«äººæ·»å°éº»çƒ¦æˆ–æ¥å—å¥½æ„æ—¶çš„å®¢å¥—è¯ï¼Œç”¨æ¥å›åº”ä¸¥å‰çš„è´£å¤‡è¯­å¢ƒä¸ç¬¦ã€‚')">æç¸®</span>ã§ã™ã€‚`, translation: "ï¼ˆå¤ªè¿‡æ„ä¸å»äº†ï¼‰", correct: false },
        { text: "ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€‚", translation: "ï¼ˆéå¸¸æŠ±æ­‰ã€‚ï¼‰", correct: true }
    ]
}
                ]
            },
            "2010-12": {
                label: "2010å¹´12æœˆ",
                questions: [
                    {
    id: 1,
    audio: "audio_j/2010.12-1.mp3",
    image: "image/2010.12-1.png",
    dialogueHtml: `<span class="speaker-name">å¥³ï¼š</span><span class="speaker-text">ç”°ä¸­ã•ã‚“ã€æ¬¡ã®ä¼šè­°ã§ã™ãŒã€ã„ã¤ãŒã„ã„ã§ã™ã‹ã€‚</span>`,
    translation: "ï¼ˆç”°ä¸­å…ˆç”Ÿï¼Œä¸‹ä¸€æ¬¡ä¼šè®®ä»€ä¹ˆæ—¶å€™åˆé€‚ï¼Ÿï¼‰",
    options: [
        { text: `ã˜ã‚ƒã€äºˆå®šã«å…¥ã‚Œ<span class="keyword" onclick="showTooltip(event, 'ã¨ãã¾ã™ï¼š\\nã€Œã¦ãŠãã€çš„å£è¯­ç¼©ç•¥å½¢å¼ã€Œã¨ãã€çš„ã¾ã™å½¢ï¼Œè¡¨ç¤ºäº‹å…ˆåšå¥½æŸç§å‡†å¤‡ã€‚è¿™é‡ŒæŒ‡â€œäº‹å…ˆæ’è¿›æ—¥ç¨‹â€ã€‚')">ã¨ãã¾ã™</span>ã€‚`, translation: "ï¼ˆé‚£æˆ‘æŠŠå®ƒæ’è¿›æ—¥ç¨‹ã€‚ï¼‰", correct: false },
        { text: `ã‚ã‚ã€ãã®æ—¥ã¯ã¡ã‚‡ã£ã¨<span class="keyword" onclick="showTooltip(event, 'éƒ½åˆãŒã¤ã‹ãªã„ï¼š\\nã€Œéƒ½åˆãŒã¤ãã€çš„ãªã„å½¢ï¼Œè¡¨ç¤ºæ—¶é—´å®‰æ’ä¸å¼€ã€ä¸æ–¹ä¾¿ã€‚')">éƒ½åˆãŒã¤ã‹ãªã„</span>ã‚“ã§ã™ãŒã€‚`, translation: "ï¼ˆå•Šï¼Œé‚£å¤©æˆ‘ä¸å¤ªæ–¹ä¾¿ã€‚ï¼‰", correct: false },
        { text: `ç«æ›œã®åˆå¾Œãªã‚‰ã€<span class="keyword" onclick="showTooltip(event, 'æ™‚é–“ãŒã¨ã‚Œã¾ã™ï¼š\\nã€Œæ™‚é–“ã‚’ã¨ã‚‹ã€ï¼ˆæŠ½å‡ºæ—¶é—´ï¼‰çš„èƒ½åŠ¨æ€çš„ã¾ã™å½¢ï¼Œè¡¨ç¤ºèƒ½å¤Ÿè…¾å‡ºã€æŠ½å‡ºæ—¶é—´ã€‚')">æ™‚é–“ãŒã¨ã‚Œã¾ã™</span>ã‘ã©ã€‚`, translation: "ï¼ˆå¦‚æœæ˜¯æ˜ŸæœŸäºŒä¸‹åˆçš„è¯ï¼Œæˆ‘å¯ä»¥æŠ½å‡ºæ—¶é—´ã€‚ï¼‰", correct: true }
    ]
},
{
    id: 2,
    audio: "audio_j/2010.12-2.mp3",
    image: "image/2010.12-2.png",
    dialogueHtml: `<span class="speaker-name">å¥³ï¼š</span><span class="speaker-text">ã“ã®é–“ã®ã‚­ãƒ£ãƒ³ãƒ—ã€ä¸€ç·’ã«æ¥<span class="keyword" onclick="showTooltip(event, 'ãŸã‚‰ã‚ˆã‹ã£ãŸã®ã«ï¼š\\nè¡¨ç¤ºä¸è¿‡å»äº‹å®ç›¸åçš„é—æ†¾å¿ƒæƒ…ï¼Œæ„ä¸ºâ€œè¦æ˜¯â€¦â€¦å°±å¥½äº†ï¼ˆå¯æ˜¯å´æ²¡æœ‰ï¼‰â€ã€‚')">ãŸã‚‰ã‚ˆã‹ã£ãŸã®ã«</span>ã€‚</span>`,
    translation: "ï¼ˆä¸Šæ¬¡éœ²è¥ï¼Œä½ è¦æ˜¯ä¸€èµ·å»å°±å¥½äº†ã€‚ï¼‰",
    options: [
        { text: `<span class="keyword" onclick="showTooltip(event, 'ã©ã†ã—ã‚ˆã†ï¼š\\nã€Œã©ã†ã™ã‚‹ã€çš„æ„å¿—å½¢ï¼Œè¡¨ç¤ºé¢ä¸´é€‰æ‹©æˆ–å›°å¢ƒæ—¶çš„æ€è€ƒå’ŒçŠ¹è±«ï¼Œæ„æ€æ˜¯â€œè¯¥æ€ä¹ˆåŠå‘¢â€ã€‚')">ã©ã†ã—ã‚ˆã†</span>ã‹ãªã€‚`, translation: "ï¼ˆè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿï¼‰", correct: false },
        { text: `è¡ŒããŸã‹ã£ãŸ<span class="keyword" onclick="showTooltip(event, 'ã‚“ã ã‘ã©ï¼š\\nã€Œã‚“ã€æ˜¯ã€Œã®ã€çš„å£è¯­å½¢å¼ï¼Œç”¨äºè¯´æ˜æƒ…å†µæˆ–è§£é‡ŠåŸå› ï¼›ã€Œã ã‘ã©ã€èµ·é“ºå«æˆ–å§”å©‰è½¬æŠ˜çš„ä½œç”¨ã€‚åˆèµ·æ¥ç”¨äºè¡¨è¾¾è‡ªå·±åŸæœ¬æƒ³å»ï¼Œä½†å› æ•…æ²¡å»æˆçš„æ— å¥ˆä¸é—æ†¾ã€‚')">ã‚“ã ã‘ã©</span>ã­ã€‚`, translation: "ï¼ˆæˆ‘æœ¬æ¥ä¹Ÿå¾ˆæƒ³å»çš„ã€‚ï¼‰", correct: true },
        { text: "ãŠã‚‚ã—ã‚ã‹ã£ãŸã­ã€‚", translation: "ï¼ˆçœŸçš„å¾ˆå¥½ç©å‘¢ã€‚ï¼‰", correct: false }
    ]
},
{
    id: 3,
    audio: "audio_j/2010.12-3.mp3",
    image: "image/2010.12-3.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">æ¥ã‚‹ã®é…ã„ã‚ˆã€‚<span class="keyword" onclick="showTooltip(event, 'ã‚‚ã†ï¼š\\nå‰¯è¯ï¼Œåœ¨è¿™é‡Œç»“åˆè¯­å¢ƒè¡¨ç¤ºäº‹ç‰©è¾¾åˆ°äº†æŸç§ç´§è¿«çš„çŠ¶æ€ï¼Œæ„æ€æ˜¯â€œå·²ç»â€ã€‚')">ã‚‚ã†</span>æ™‚é–“<span class="keyword" onclick="showTooltip(event, 'ãã‚Šãã‚Šï¼š\\nå‰¯è¯ï¼Œè¡¨ç¤ºâ€œå‹‰å‹‰å¼ºå¼ºâ€ã€â€œæé™â€ï¼ŒæŒ‡æ—¶é—´åˆšå¥½æ¥å¾—åŠï¼Œæ²¡æœ‰ä»»ä½•ä½™åœ°ã€‚')">ãã‚Šãã‚Š</span>ã ã‚ˆã€‚</span>`,
    translation: "ï¼ˆä½ æ¥å¾—å¤ªæ™šäº†ï¼Œéƒ½å¿«èµ¶ä¸ä¸Šæ—¶é—´äº†ã€‚ï¼‰",
    options: [
        { text: "ã¾ãŸé…ã‚Œã¡ã‚ƒã£ãŸã®?", translation: "ï¼ˆåˆè¿Ÿåˆ°äº†å—ï¼Ÿï¼‰", correct: false },
        { text: `<span class="keyword" onclick="showTooltip(event, 'ã‚ã¨ï¼š\\nè¡¨ç¤ºå‰©ä½™çš„æ—¶é—´æˆ–æ•°é‡ï¼Œæ„æ€æ˜¯â€œè¿˜å‰©ä¸‹â€¦â€¦â€ã€â€œè¿˜æœ‰â€¦â€¦â€ã€‚')">ã‚ã¨</span>10åˆ†ã ã‘ã ã‚ˆã€‚`, translation: "ï¼ˆåªå‰© 10â€¯åˆ†é’Ÿäº†ã€‚ï¼‰", correct: false },
        { text: "ã”ã‚ã‚“ã­ã€å¯åŠã—ã¡ã‚ƒã£ã¦ã€‚", translation: "ï¼ˆå¯¹ä¸èµ·ï¼Œç¡è¿‡å¤´äº†ã€‚ï¼‰", correct: true }
    ]
},
{
    id: 4,
    audio: "audio_j/2010.12-4.mp3",
    image: "image/2010.12-4.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">å±±ç”°ã•ã‚“ã€ç¤¾é•·ãŒ<span class="keyword" onclick="showTooltip(event, 'ãŠå‘¼ã³ã§ã™ï¼š\\nã€ŒãŠï¼‹åŠ¨è¯ç¬¬ä¸€è¿ç”¨å½¢ï¼‹ã§ã™ã€æ„æˆçš„å°Šä»–è¯­ï¼Œè¡¨ç¤ºå¯¹åŠ¨ä½œä¸»ä½“ï¼ˆç¤¾é•¿ï¼‰çš„å°Šæ•¬ã€‚è¿™é‡ŒæŒ‡â€œç¤¾é•¿åœ¨æ‰¾ï¼ˆä½ ï¼‰â€ã€‚')">ãŠå‘¼ã³ã§ã™</span>ã‚ˆã€‚</span>`,
    translation: "ï¼ˆå±±ç”°ï¼Œç¤¾é•¿æœ‰äº‹æ‰¾ä½ ã€‚ï¼‰",
    options: [
        { text: `ã™ã<span class="keyword" onclick="showTooltip(event, 'ä¼ºã„ã¾ã™ï¼š\\nåŠ¨è¯ã€Œä¼ºã†ã€çš„ã¾ã™å½¢ï¼Œæ˜¯ã€Œè¡Œãã€çš„è‡ªè°¦è¯­ã€‚é€šè¿‡é™ä½è‡ªå·±çš„åŠ¨ä½œæ¥è¡¨ç¤ºå¯¹å¯¹æ–¹çš„å°Šæ•¬ï¼Œè¿™é‡Œæ„æ€æ˜¯â€œæˆ‘å»â€ã€‚')">ä¼ºã„ã¾ã™</span>ã€‚`, translation: "ï¼ˆæˆ‘é©¬ä¸Šè¿‡å»ã€‚ï¼‰", correct: true },
        { text: `ã“ã¡ã‚‰ã«<span class="keyword" onclick="showTooltip(event, 'ãŠã„ã§ï¼š\\nã€Œæ¥ã‚‹ã€ç­‰åŠ¨è¯çš„å°Šä»–è¯­åè¯å½¢å¼ã€‚ç»“åˆã€Œãã ã•ã„ã€æ„æˆã€ŒãŠã„ã§ãã ã•ã„ã€ï¼Œè¡¨ç¤ºå°Šæ•¬åœ°è¯·æ±‚å¯¹æ–¹è¿‡æ¥ã€‚')">ãŠã„ã§</span>ãã ã•ã„ã€‚`, translation: "ï¼ˆè¯·åˆ°è¿™è¾¹æ¥ã€‚ï¼‰", correct: false },
        { text: "ãŠå¾…ã¡ã„ãŸã—ã¾ã™ã€‚", translation: "ï¼ˆæˆ‘åœ¨è¿™é‡Œç­‰å€™ã€‚ï¼‰", correct: false }
    ]
},
{
    id: 5,
    audio: "audio_j/2010.12-5.mp3",
    image: "image/2010.12-5.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">ä»Šæ—¥ã¯ã©ã“ã‚‚ã™ã”ã„<span class="keyword" onclick="showTooltip(event, 'äººã”ã¿ï¼š\\nåè¯ï¼Œè¡¨ç¤ºâ€œäººç¾¤â€ã€â€œäººå±±äººæµ·â€ã€‚')">äººã”ã¿</span>ã ã­ã€‚</span>`,
    translation: "ï¼ˆä»Šå¤©åˆ°å¤„éƒ½æŒ¤æ»¡äº†äººå•Šã€‚ï¼‰",
    options: [
        { text: "ãŠç¥­ã‚Šã ã‹ã‚‰ã­ã€‚", translation: "ï¼ˆå› ä¸ºä»Šå¤©åœ¨åŠç¥­å…¸å˜›ã€‚ï¼‰", correct: true },
        { text: "ã‚ã£ã€ã¡ã‚‡ã£ã¨å¤šã™ãã¡ã‚ƒã£ãŸ?", translation: "ï¼ˆå“ï¼Œæ˜¯ä¸æ˜¯äººå¤ªå¤šäº†ï¼Ÿï¼‰", correct: false },
        { text: "ã‚‚ã†æ¨ã¦ã¦ããŸã‚ˆã€‚", translation: "ï¼ˆæˆ‘å·²ç»æ‰”æ‰äº†ã€‚ï¼‰", correct: false }
    ]
},
{
    id: 6,
    audio: "audio_j/2010.12-6.mp3",
    image: "image/2010.12-6.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">ã“ã®è³‡æ–™ã€ä»Šæ—¥ä¸­ã«ã‚³ãƒ”ãƒ¼ã—<span class="keyword" onclick="showTooltip(event, 'ã¦ã‚‚ã‚‰ãˆã‚‹ã¨åŠ©ã‹ã‚‹ï¼š\\nã€Œã¦ã‚‚ã‚‰ãˆã‚‹ã€æ˜¯ã€Œã¦ã‚‚ã‚‰ã†ã€çš„èƒ½åŠ¨æ€ï¼Œè¡¨ç¤ºâ€œèƒ½å¾—åˆ°ï¼ˆåˆ«äººä¸ºè‡ªå·±åšæŸäº‹ï¼‰â€ã€‚æ¥ä¸Šè¡¨ç¤ºæ¡ä»¶çš„ã€Œã¨ã€å’Œã€ŒåŠ©ã‹ã‚‹ã€ï¼Œæ„æ€æ˜¯â€œå¦‚æœèƒ½ï¼ˆå¸®æˆ‘ï¼‰â€¦â€¦çš„è¯å°±å¸®å¤§å¿™äº†â€ï¼Œæ˜¯èŒåœºä¸­å§”å©‰æ‹œæ‰˜åˆ«äººçš„å¸¸ç”¨å¥å‹ã€‚')">ã¦ã‚‚ã‚‰ãˆã‚‹ã¨åŠ©ã‹ã‚‹</span>ã‚“ã ã‘ã©ã€‚</span>`,
    translation: "ï¼ˆè¿™äº›èµ„æ–™å¦‚æœä»Šå¤©ä¹‹å†…èƒ½å¤å°å¥½å°±å¸®å¤§å¿™äº†ã€‚ï¼‰",
    options: [
        { text: "ã¯ã„ã€ãŠé¡˜ã„ã—ã¾ã™ã€‚", translation: "ï¼ˆæ‹œæ‰˜æ‚¨äº†ã€‚ï¼‰", correct: false },
        { text: "é…ããªã‚Šã¾ã™ãŒã€ã„ã„ã§ã—ã‚‡ã†ã‹ã€‚", translation: "ï¼ˆå¯èƒ½ä¼šæ™šä¸€ç‚¹ï¼Œå¯ä»¥å—ï¼Ÿï¼‰", correct: true },
        { text: `ãã‚Œã¯<span class="keyword" onclick="showTooltip(event, 'ã‚ã‚ŠãŒãŸã„ï¼š\\nå½¢å®¹è¯ï¼Œè¡¨ç¤ºâ€œå€¼å¾—æ„Ÿè°¢çš„â€ã€â€œéš¾å¾—çš„â€ã€‚é€šå¸¸ç”¨äºè‡ªå·±æ¥å—äº†åˆ«äººçš„å¥½æ„æˆ–æ©æƒ æ—¶è¡¨è¾¾æ„Ÿæ¿€ä¹‹æƒ…ï¼Œåœ¨æ­¤å¤„ä½œä¸ºè¢«æ‹œæ‰˜çš„ä¸€æ–¹ä½¿ç”¨ä¸ç¬¦åˆè¯­å¢ƒã€‚')">ã‚ã‚ŠãŒãŸã„</span>ã§ã™ã€‚`, translation: "ï¼ˆé‚£çœŸæ˜¯å¤ªå¥½äº†ã€‚ï¼‰", correct: false }
    ]
},
{
    id: 7,
    audio: "audio_j/2010.12-7.mp3",
    image: "image/2010.12-7.png",
    dialogueHtml: `<span class="speaker-name">å¥³ï¼š</span><span class="speaker-text">ã“ã¡ã‚‰ã«ãŠåå‰ã¨ã”ä½æ‰€ã‚’<span class="keyword" onclick="showTooltip(event, 'ã”ã€œã„ãŸã ã‘ã¾ã™ã‹ï¼š\\nã€Œã”ï¼‹æ±‰å­—è¯æ±‡ï¼‹ã„ãŸã ãã€çš„èƒ½åŠ¨æ€å½¢å¼ï¼ŒåŠ ä¸Šç–‘é—®è¯ã€Œã‹ã€ï¼Œè¡¨ç¤ºéå¸¸ç¤¼è²Œåœ°è¯·æ±‚å¯¹æ–¹åšæŸäº‹ï¼Œæ„æ€æ˜¯â€œèƒ½è¯·æ‚¨â€¦â€¦å—â€ã€‚')">ã”è¨˜å…¥ã„ãŸã ã‘ã¾ã™ã‹</span>ã€‚</span>`,
    translation: "ï¼ˆè¯·åœ¨è¿™é‡Œå¡«å†™æ‚¨çš„å§“åå’Œä½å€ã€‚ï¼‰",
    options: [
        { text: `ã©ãªãŸã«ä¼ºãˆã°<span class="keyword" onclick="showTooltip(event, 'ã‚ˆã‚ã—ã„ï¼š\\nå½¢å®¹è¯ã€Œã„ã„ã€çš„éƒ‘é‡è¯´æ³•ï¼Œè¡¨ç¤ºâ€œå¥½â€ã€â€œå¯ä»¥â€ã€‚ã€Œã‚ˆã‚ã—ã„ã§ã™ã‹ã€å¸¸ç”¨äºå‘å¯¹æ–¹ç¡®è®¤æˆ–è¯¢é—®ï¼Œè¯­æ°”æ¯”ã€Œã„ã„ã§ã™ã‹ã€æ›´ç¤¼è²Œã€‚')">ã‚ˆã‚ã—ã„</span>ã§ã™ã‹?`, translation: "ï¼ˆæˆ‘åº”è¯¥å‘è°è¯·æ•™å‘¢ï¼Ÿï¼‰", correct: false },
        { text: `<span class="keyword" onclick="showTooltip(event, 'çµæ§‹ï¼š\\nå½¢å®¹åŠ¨è¯ï¼Œæ ¹æ®è¯­å¢ƒå¯è¡¨ç¤ºâ€œè¶³å¤Ÿâ€ã€â€œå¯ä»¥â€ï¼Œæˆ–ç”¨äºå©‰æ‹’åˆ«äººï¼Œè¡¨ç¤ºâ€œä¸ç”¨äº†â€ã€‚åœ¨è¿™é‡Œä½œä¸ºå›åº”å¡«å†™è¡¨æ ¼çš„è¯·æ±‚æ˜¾å¾—ä¸è‡ªç„¶ã€‚')">çµæ§‹</span>ã§ã™ã€‚ãŠé¡˜ã„ã—ã¾ã™ã€‚`, translation: "ï¼ˆè¿™æ ·å°±è¡Œäº†ï¼Œéº»çƒ¦ä½ äº†ã€‚ï¼‰", correct: false },
        { text: "ã‚ã£ã€ã™ã¿ã¾ã›ã‚“ã€‚ãƒšãƒ³ã‚’ãŠå€Ÿã‚Šã§ãã¾ã™ã‹ã€‚", translation: "ï¼ˆå•Šï¼Œä¸å¥½æ„æ€ï¼Œå¯ä»¥å€Ÿæˆ‘ä¸€æ”¯ç¬”å—ï¼Ÿï¼‰", correct: true }
    ]
},
{
    id: 8,
    audio: "audio_j/2010.12-8.mp3",
    image: "image/2010.12-8.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">ã‚ã‚ã€<span class="keyword" onclick="showTooltip(event, 'ã—ã¾ã£ãŸï¼š\\næ„Ÿå¹è¯ï¼Œè¡¨ç¤ºçªç„¶å‘ç°åšé”™äº†äº‹æˆ–é‡åˆ°äº†ç³Ÿç³•çš„æƒ…å†µï¼Œæ„æ€æ˜¯â€œç³Ÿäº†â€ã€â€œå“å‘€â€ã€‚')">ã—ã¾ã£ãŸ</span>ã€‚ã†ã¡ã«è²¡å¸ƒå¿˜ã‚Œã¦ãã¡ã‚ƒã£ãŸã€‚</span>`,
    translation: "ï¼ˆç³Ÿäº†ï¼Œæˆ‘æŠŠé’±åŒ…å¿˜åœ¨å®¶é‡Œäº†ã€‚ï¼‰",
    options: [
        { text: `éµé–‰ã‚<span class="keyword" onclick="showTooltip(event, 'ãªãã¡ã‚ƒã ã‚ï¼š\\nã€Œãªãã¡ã‚ƒã€æ˜¯ã€Œãªãã¦ã¯ã€çš„å£è¯­ç¼©ç•¥å½¢å¼ï¼Œæ¥åœ¨åŠ¨è¯çš„ã€Œãªã„å½¢ã€ä¹‹åï¼›ã€Œã ã‚ã€è¡¨ç¤ºä¸è¡Œã€‚åˆèµ·æ¥å¼ºè°ƒå¿…é¡»åšæŸäº‹ï¼Œå³â€œä¸åšä¸è¡Œâ€ã€‚')">ãªãã¡ã‚ƒã ã‚</span><span class="keyword" onclick="showTooltip(event, 'ã˜ã‚ƒãªã„ï¼š\\nä½œä¸ºç»ˆåŠ©è¯æ”¾åœ¨å¥æœ«ï¼Œå¸¦æœ‰è½»å¾®è´£å¤‡æˆ–æé†’å¯¹æ–¹çš„è¯­æ°”ï¼Œæ„æ€æ˜¯â€œä¸æ˜¯â€¦â€¦å—â€ã€â€œä½ å¾—â€¦â€¦å‘€â€ã€‚')">ã˜ã‚ƒãªã„</span>ã€‚`, translation: "ï¼ˆé—¨å¯å¾—é”å¥½å•Šã€‚ï¼‰", correct: false },
        { text: "å¤§ä¸ˆå¤«ã€è²¸ãã†ã‹ã€‚", translation: "ï¼ˆæ²¡äº‹å§ï¼Œè¦ä¸æˆ‘å€Ÿä½ ç‚¹ï¼Ÿï¼‰", correct: true },
        { text: `ãƒ˜ï¼Ÿ<span class="keyword" onclick="showTooltip(event, 'è­¦å¯Ÿã«å±Šã‘ï¼š\\nåŠ¨è¯ã€Œå±Šã‘ã‚‹ã€ï¼ˆé€è¾¾ã€ç”³æŠ¥ï¼‰ã€‚è¿™é‡Œç‰¹æŒ‡å»è­¦å¯Ÿå±€æŒ‚å¤±æˆ–æŠ¥æ¡ˆã€‚')">è­¦å¯Ÿã«å±Šã‘</span>ãªãã‚ƒã€‚`, translation: "ï¼ˆè¯¶ï¼Ÿé‚£å¾—å»æŠ¥è­¦æ‰è¡Œå•Šã€‚ï¼‰", correct: false }
    ]
},
{
    id: 9,
    audio: "audio_j/2010.12-9.mp3",
    image: "image/2010.12-9.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">ã“ã®ä»•äº‹ã®<span class="keyword" onclick="showTooltip(event, 'ç· ã‚åˆ‡ã‚Šï¼š\\nåè¯ï¼Œè¡¨ç¤ºâ€œæˆªæ­¢â€ã€â€œæœŸé™â€ã€‚ç”±åŠ¨è¯ã€Œç· ã‚åˆ‡ã‚‹ã€çš„ç¬¬ä¸€è¿ç”¨å½¢è½¬å˜è€Œæ¥ã€‚')">ç· ã‚åˆ‡ã‚Š</span>ã£ã¦ã€æ¥é€±ã®é‡‘æ›œæ—¥ã§ã—ãŸ<span class="keyword" onclick="showTooltip(event, 'ã£ã‘ï¼š\\nç»ˆåŠ©è¯ï¼Œå¤šç”¨äºå£è¯­ï¼Œæ¥åœ¨å¥æœ«ï¼Œç”¨äºå‘å¯¹æ–¹ç¡®è®¤è‡ªå·±è®°å¿†ä¸æ¸…çš„äº‹æƒ…æˆ–å›æƒ³æŸäº‹ï¼Œæ„æ€æ˜¯â€œâ€¦â€¦æ¥ç€â€ã€â€œâ€¦â€¦å¯¹å§â€ã€‚')">ã£ã‘</span>ã€‚</span>`,
    translation: "ï¼ˆè¿™é¡¹å·¥ä½œçš„æˆªæ­¢æ—¥æœŸæ˜¯ä¸‹å‘¨äº”ï¼Œå¯¹å§ï¼Ÿï¼‰",
    options: [
        { text: "æ¥é€±ã‹ã‚‰ã§ã™ã‚ˆã€‚", translation: "ï¼ˆæ˜¯ä»ä¸‹å‘¨å¼€å§‹å“¦ã€‚ï¼‰", correct: false },
        { text: "ç· ã‚åˆ‡ã‚Šã¾ã™ã‚ˆã€‚", translation: "ï¼ˆè¦æˆªæ­¢äº†å“¦ã€‚ï¼‰", correct: false },
        { text: "ãã®ã¯ãšã§ã™ã‘ã©ã€‚", translation: "ï¼ˆåº”è¯¥æ˜¯çš„ã€‚ï¼‰", correct: true }
    ]
},
{
    id: 10,
    audio: "audio_j/2010.12-10.mp3",
    image: "image/2010.12-10.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">ãã®è¨ˆç”»ã¯äºˆç®—ã‚’è€ƒãˆã‚‹ã¨ã‚„ã‚<span class="keyword" onclick="showTooltip(event, 'ã–ã‚‹ã‚’å¾—ãªã„ï¼š\\næ¥åœ¨åŠ¨è¯ã€Œãªã„å½¢ã€å»æ‰ã€Œãªã„ã€çš„å½¢å¼ä¹‹åï¼ˆã€Œã™ã‚‹ã€å˜ä¸ºã€Œã›ã€ï¼‰ï¼Œè¡¨ç¤ºâ€œä¸å¾—ä¸â€¦â€¦â€ã€â€œä¸èƒ½ä¸â€¦â€¦â€ã€‚è¡¨ç¤ºè¿«äºæŸç§æƒ…å†µï¼Œé™¤æ­¤ä¹‹å¤–åˆ«æ— ä»–æ³•ã€‚')">ã–ã‚‹ã‚’å¾—ãªã„</span>ãªã‚ã€‚</span>`,
    translation: "ï¼ˆè€ƒè™‘åˆ°é¢„ç®—çš„æƒ…å†µï¼Œè¿™ä¸ªè®¡åˆ’ä¸å¾—ä¸æ”¾å¼ƒäº†å•Šã€‚ï¼‰",
    options: [
        { text: "ååˆ†ãªäºˆç®—ã§ã™ã‹ã‚‰ã­ã€‚", translation: "ï¼ˆæ¯•ç«Ÿé¢„ç®—å¯æ˜¯è¶³å¤Ÿçš„ã€‚ï¼‰", correct: false },
        { text: "ã˜ã‚ƒã€å®Ÿè¡Œã—ã¾ã—ã‚‡ã†ã€‚", translation: "ï¼ˆé‚£å°±å®è¡Œå§ã€‚ï¼‰", correct: false },
        { text: `ãˆãˆã€<span class="keyword" onclick="showTooltip(event, 'ä»•æ–¹ãªã„ï¼š\\nå½¢å®¹è¯ï¼Œæ„ä¸ºâ€œæ²¡åŠæ³•â€ã€â€œæ— å¥ˆâ€ã€‚è¡¨ç¤ºå¯¹æŸç§çŠ¶å†µæ— èƒ½ä¸ºåŠ›ï¼Œåªèƒ½æ¥å—ã€‚')">ä»•æ–¹ãªã„</span>ã§ã™ã­ã€‚`, translation: "ï¼ˆæ˜¯å•Šï¼Œæ²¡åŠæ³•å‘¢ã€‚ï¼‰", correct: true }
    ]
},
{
    id: 11,
    audio: "audio_j/2010.12-11.mp3",
    image: "image/2010.12-11.png",
    dialogueHtml: `<span class="speaker-name">å¥³ï¼š</span><span class="speaker-text">æ±äº¬ã«<span class="keyword" onclick="showTooltip(event, 'ã„ã‚‰ã—ã¦ï¼š\\nåŠ¨è¯ã€Œã„ã‚‰ã£ã—ã‚ƒã‚‹ã€çš„ã¦å½¢ã€‚ã€Œã„ã‚‰ã£ã—ã‚ƒã‚‹ã€æ˜¯ã€Œæ¥ã‚‹ã€æˆ–ã€Œã„ã‚‹ã€çš„å°Šä»–è¯­ï¼Œåœ¨è¿™é‡Œè¡¨ç¤ºæ¥åˆ°å¹¶åœ¨ä¸œäº¬å±…ä½ã€‚')">ã„ã‚‰ã—ã¦</span>ã‚‚ã†é•·ã„ã‚“ã§ã™ã‹ã€‚</span>`,
    translation: "ï¼ˆæ‚¨åœ¨ä¸œäº¬å·²ç»å¾ˆä¹…äº†å—ï¼Ÿï¼‰",
    options: [
        { text: "ã‚ã¨3æ™‚é–“ãã‚‰ã„ã§ã—ã‚‡ã†ã‹ã€‚", translation: "ï¼ˆè¿˜è¦å¤§çº¦3ä¸ªå°æ—¶å—ï¼Ÿï¼‰", correct: false },
        { text: `ã„ãˆã€3ãƒ¶æœˆå‰ã«æ¥<span class="keyword" onclick="showTooltip(event, 'ãŸã°ã‹ã‚Šï¼š\\næ¥åœ¨åŠ¨è¯ã€ŒãŸå½¢ã€åï¼Œè¡¨ç¤ºåŠ¨ä½œåˆšåˆšå®Œæˆæˆ–å‘ç”Ÿä¸ä¹…ï¼Œæ„æ€æ˜¯â€œåˆšåˆšâ€¦â€¦â€ã€‚')">ãŸã°ã‹ã‚Š</span>ã§ã™ã€‚`, translation: "ï¼ˆä¸ï¼Œæˆ‘æ˜¯ä¸‰ä¸ªæœˆå‰åˆšæ¥çš„ã€‚ï¼‰", correct: true },
        { text: "ã¾ã 30ã‚­ãƒ­ãã‚‰ã„ã‚ã‚Šã¾ã™ã€‚", translation: "ï¼ˆè¿˜æœ‰å¤§çº¦30å…¬é‡Œã€‚ï¼‰", correct: false }
    ]
},
{
    id: 12,
    audio: "audio_j/2010.12-12.mp3",
    image: "image/2010.12-12.png",
    dialogueHtml: `<span class="speaker-name">ç”·ï¼š</span><span class="speaker-text">èª²é•·ã«é€£çµ¡ãŒå–ã‚Œ<span class="keyword" onclick="showTooltip(event, 'æ¬¡ç¬¬ï¼š\\næ¥åœ¨åŠ¨è¯ç¬¬ä¸€è¿ç”¨å½¢ï¼ˆã¾ã™å½¢å»æ‰ã¾ã™ï¼‰ä¹‹åï¼Œè¡¨ç¤ºâ€œä¸€â€¦â€¦å°±â€¦â€¦â€ï¼Œå¼ºè°ƒåœ¨æŸä¸ªåŠ¨ä½œç»“æŸåç«‹å³è¿›è¡Œä¸‹ä¸€ä¸ªåŠ¨ä½œã€‚')">æ¬¡ç¬¬</span>ã€<span class="keyword" onclick="showTooltip(event, 'è‡³æ€¥ï¼š\\nåè¯æˆ–å‰¯è¯ï¼Œè¡¨ç¤ºâ€œç«æ€¥â€ã€â€œæå…¶ç´§æ€¥â€ã€â€œç«‹åˆ»â€ã€‚')">è‡³æ€¥</span>æˆ»ã‚‹ã‚ˆã†ã«ä¼ãˆã¦ã€‚</span>`,
    translation: "ï¼ˆå’Œç§‘é•¿å–å¾—è”ç³»åï¼Œç«‹å³è½¬å‘Šä»–èµ¶å¿«å›æ¥ã€‚ï¼‰",
    options: [
        { text: "ã™ãé€£çµ¡ã—ã¾ã™ã€‚", translation: "ï¼ˆæˆ‘é©¬ä¸Šå»è”ç³»ã€‚ï¼‰", correct: true },
        { text: "ä»ŠãŠè¿”ã—ã—ã¾ã™ã€‚", translation: "ï¼ˆæˆ‘è¿™å°±å›å¤ã€‚ï¼‰", correct: false },
        { text: "èª²é•·ãŒæˆ»ã£ãŸã‚‰ä¼ãˆã¾ã™ã€‚", translation: "ï¼ˆç­‰ç§‘é•¿å›æ¥ä»¥åæˆ‘ä¼šè½¬å‘Šä»–çš„ã€‚ï¼‰", correct: false }
    ]
}
                ]
            }
        };

        let currentExamKey = "2010-07";
        let currentQuestionIndex = 0;
        let preferredMode = 'practice'; // Track user's preferred mode

        // --- Initialization ---
        function init() {
            // 1. Get Year from URL or default
            const urlParams = new URLSearchParams(window.location.search);
            const yearParam = urlParams.get('year');
            const modeParam = urlParams.get('mode');
            
            // Check if valid
            if (yearParam && examData[yearParam]) {
                currentExamKey = yearParam;

                // --- REVIEW MODE LOGIC ---
                if (modeParam === 'review') {
                    const marks = getMarks();
                    if (marks.length === 0) {
                        alert('ãƒãƒ¼ã‚¯ã•ã‚ŒãŸå•é¡Œã¯ã‚ã‚Šã¾ã›ã‚“ã€‚(No marked questions)');
                    } else {
                        const originalQuestions = examData[currentExamKey].questions;
                        const filtered = originalQuestions.filter(q => marks.includes(q.id));
                        
                        if (filtered.length > 0) {
                            examData[currentExamKey].questions = filtered;
                            setTimeout(() => {
                                const lbl = document.getElementById('yearLabel');
                                if(lbl) {
                                    lbl.innerHTML += ' <span style="color:#d81b60; font-size:0.8em;">(ğŸ¶ å¾©ç¿’ãƒ¢ãƒ¼ãƒ‰)</span>';
                                }
                            }, 100);
                        } else {
                             alert('ãƒãƒ¼ã‚¯ã•ã‚ŒãŸå•é¡ŒãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚(Questions not found)');
                        }
                    }
                }
            } else {
                // Default to first key if not specified or invalid
                currentExamKey = Object.keys(examData)[0];
            }

            // 2. Set Year Label
            const yearLabel = document.getElementById('yearLabel');
            if (yearLabel) {
                yearLabel.textContent = examData[currentExamKey].label;
            }

            // 3. Populate Question Select
            updateQuestionSelect();

            // 4. Initial Render
            renderQuestion();
        }

        // --- Mark/Bookmark Logic ---
        function getMarks() {
            const key = `jlpt_marks_${currentExamKey}`;
            const saved = localStorage.getItem(key);
            return saved ? JSON.parse(saved) : [];
        }

        function saveMarks(marks) {
            const key = `jlpt_marks_${currentExamKey}`;
            localStorage.setItem(key, JSON.stringify(marks));
        }

        function toggleMark() {
            const marks = getMarks();
            const qId = examData[currentExamKey].questions[currentQuestionIndex].id;
            
            const index = marks.indexOf(qId);
            if (index === -1) {
                marks.push(qId);
            } else {
                marks.splice(index, 1);
            }
            saveMarks(marks);
            updateMarkUI();
        }

        function updateMarkUI() {
            const marks = getMarks();
            // Guard clause if questions aren't loaded yet
            if (!examData[currentExamKey] || !examData[currentExamKey].questions[currentQuestionIndex]) return;
            
            const qId = examData[currentExamKey].questions[currentQuestionIndex].id;
            const btn = document.getElementById('markBtn');
            
            if (marks.includes(qId)) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        }

        function updateQuestionSelect() {
            const select = document.getElementById('questionSelect');
            select.innerHTML = '';
            
            const questions = examData[currentExamKey].questions;
            questions.forEach((q, index) => {
                const option = document.createElement('option');
                option.value = index; // Use index as value for easier handling
                option.textContent = `å•é¡Œ ${q.id}`;
                select.appendChild(option);
            });
        }

        function changeQuestion(index) {
            currentQuestionIndex = parseInt(index);
            renderQuestion();
        }

        function selectOption(element) {
            // Only active in practice mode
            const container = document.getElementById('appContainer');
            if (!container.classList.contains('mode-practice')) return;
            
            // Do not change selection if already judged
            if (element.parentElement.querySelector('.judged-correct') || element.parentElement.querySelector('.judged-wrong')) return;

            // Remove selected from siblings
            const siblings = element.parentElement.children;
            for (let i = 0; i < siblings.length; i++) {
                siblings[i].classList.remove('selected');
            }
            // Add to clicked
            element.classList.add('selected');
            
            // Show confirm button
            const confirmBtn = document.getElementById('confirmBtn');
            if(confirmBtn) confirmBtn.style.display = 'block';
        }

        function checkAnswer() {
            const container = document.getElementById('appContainer');
            const selected = container.querySelector('.options-list li.selected');
            if (!selected) return;
            
            container.classList.add('judged');
            
            const index = parseInt(selected.getAttribute('data-index'));
            const question = examData[currentExamKey].questions[currentQuestionIndex];
            const options = container.querySelectorAll('.options-list li');
            
            const isCorrect = question.options[index].correct;
            
            if (isCorrect) {
                selected.classList.add('judged-correct');
            } else {
                selected.classList.add('judged-wrong');
                // Show correct answer
                question.options.forEach((opt, i) => {
                    if (opt.correct) {
                        options[i].classList.add('judged-correct');
                    }
                });

                // Auto-mark wrong answer
                const marks = getMarks();
                if (!marks.includes(question.id)) {
                    marks.push(question.id);
                    saveMarks(marks);
                    updateMarkUI();
                }
            }
            
            // Hide confirm button
            document.getElementById('confirmBtn').style.display = 'none';

            // Auto switch to explanation mode after 1s (temporary)
            setTimeout(() => {
                setMode('explanation', false);
            }, 1000);
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                setMode(preferredMode, false); // Restore preferred mode
                renderQuestion();
            }
        }

        function nextQuestion() {
            const questions = examData[currentExamKey].questions;
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                setMode(preferredMode, false); // Restore preferred mode
                renderQuestion();
            }
        }

        function renderQuestion() {
            const container = document.getElementById('appContainer');
            if (container) container.classList.remove('judged');

            const data = examData[currentExamKey].questions[currentQuestionIndex];
            const total = examData[currentExamKey].questions.length;

            // Update Mark UI
            updateMarkUI();

            // Update Select Box
            const select = document.getElementById('questionSelect');
            if (select) {
                select.value = currentQuestionIndex;
            }
            
            // Update Audio
            const audio = document.getElementById('audioElement');
            const wasPlaying = !audio.paused;
            // Only update src if changed to avoid reloading if not needed (though mostly it changes)
            if (!audio.src.endsWith(data.audio) && data.audio) {
                audio.src = data.audio;
                // Reset player state
                document.getElementById('progressBar').style.width = '0%';
                document.getElementById('timeDisplay').textContent = '00:00 / 00:00';
                document.getElementById('playBtn').innerHTML = playIcon;
            } else if (!data.audio) {
                audio.removeAttribute('src');
            }

            // Update Image
            const img = document.getElementById('sceneImage');
            if (data.image) {
                img.src = data.image;
                img.style.display = 'block';
            } else {
                img.style.display = 'none';
            }

            // Update Dialogue
            const dialogueBlock = document.getElementById('dialogueBlock');
            dialogueBlock.innerHTML = `
                <div class="dialogue-text">${data.dialogueHtml}</div>
                <div class="translation">${data.translation}</div>
            `;

            // Update Options
            const optionsList = document.getElementById('optionsList');
            optionsList.innerHTML = '';
            data.options.forEach((opt, idx) => {
                const li = document.createElement('li');
                if (opt.correct) li.classList.add('correct-answer');
                li.setAttribute('data-index', idx);
                
                // Add click handler for selection (Practice Mode)
                li.onclick = () => selectOption(li);

                li.innerHTML = `
                    <span class="options-num">${idx + 1}</span>
                    <div class="option-text">${opt.text}</div>
                    <div class="translation">${opt.translation}</div>
                `;
                optionsList.appendChild(li);
            });

            // Hide confirm button when rendering new question
            const confirmBtn = document.getElementById('confirmBtn');
            if(confirmBtn) confirmBtn.style.display = 'none';

            // Update Nav Buttons
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('nextBtn').disabled = currentQuestionIndex === total - 1;
        }

        // Audio Player Logic
        const audio = document.getElementById('audioElement');
        const playBtn = document.getElementById('playBtn');
        const progressBar = document.getElementById('progressBar');
        const progressContainer = document.getElementById('progressContainer');
        const timeDisplay = document.getElementById('timeDisplay');
        const playIcon = '<svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 7.13397C14.3333 7.90377 14.3333 9.82823 13 10.598L2.5 16.6603C1.16667 17.4301 -1.45707e-06 16.4678 -1.38973e-06 14.9282L-8.59795e-07 2.80385C-7.92455e-07 1.26425 1.16667 0.301995 2.5 1.0718L13 7.13397Z" fill="white"/></svg>';
        const pauseIcon = '<svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="3" y="2" width="3" height="12" rx="1.5" fill="white"/><rect x="8" y="2" width="3" height="12" rx="1.5" fill="white"/></svg>';

        playBtn.addEventListener('click', togglePlay);
        audio.addEventListener('timeupdate', updateProgress);
        progressContainer.addEventListener('click', setProgress);
        audio.addEventListener('loadedmetadata', () => {
            timeDisplay.textContent = `00:00 / ${formatTime(audio.duration)}`;
        });
        audio.addEventListener('ended', () => {
            playBtn.innerHTML = playIcon;
            progressBar.style.width = '0%';
        });

        function togglePlay() {
            if (audio.paused) {
                audio.play();
                playBtn.innerHTML = pauseIcon;
            } else {
                audio.pause();
                playBtn.innerHTML = playIcon;
            }
        }

        function updateProgress() {
            const { duration, currentTime } = audio;
            const progressPercent = (currentTime / duration) * 100;
            progressBar.style.width = `${progressPercent}%`;
            timeDisplay.textContent = `${formatTime(currentTime)} / ${formatTime(duration || 0)}`;
        }

        function setProgress(e) {
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;
            audio.currentTime = (clickX / width) * duration;
        }

        function formatTime(seconds) {
            const min = Math.floor(seconds / 60);
            const sec = Math.floor(seconds % 60);
            return `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
        }

        function setMode(mode, updatePreference = true) {
            if (updatePreference) {
                preferredMode = mode;
            }

            const container = document.getElementById('appContainer');
            const btnPractice = document.getElementById('btnPractice');
            const btnExplanation = document.getElementById('btnExplanation');
            const tooltip = document.getElementById('wordTooltip');

            tooltip.style.display = 'none';

            if (mode === 'practice') {
                container.classList.remove('mode-explanation');
                container.classList.add('mode-practice');
                btnPractice.classList.add('active');
                btnExplanation.classList.remove('active');
            } else {
                container.classList.remove('mode-practice');
                container.classList.add('mode-explanation');
                btnExplanation.classList.add('active');
                btnPractice.classList.remove('active');

                 // Auto-scroll to show image and explanation
                setTimeout(() => {
                    const contentWrapper = document.querySelector('.content-wrapper');
                    if (contentWrapper) {
                        // Calculate offset to account for sticky header (approx 80px)
                        const headerOffset = 100;
                        const elementPosition = contentWrapper.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                    
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: "smooth"
                        });
                    }
                }, 100);
        }
        }

        function showTooltip(event, text) {
            event.stopPropagation();
            
            const tooltip = document.getElementById('wordTooltip');
            tooltip.innerText = text;
            tooltip.style.display = 'block';
            
            const targetRect = event.target.getBoundingClientRect();
            
            setTimeout(() => {
                const tooltipWidth = tooltip.offsetWidth;
                const tooltipHeight = tooltip.offsetHeight;
                
                const top = targetRect.top + window.scrollY - tooltipHeight - 10; 
                let left = targetRect.left + window.scrollX + (targetRect.width / 2) - (tooltipWidth / 2);
                
                // Prevent tooltip from going off-screen
                if (left < 10) left = 10;
                if (left + tooltipWidth > window.innerWidth - 10) {
                    left = window.innerWidth - tooltipWidth - 10;
                }

                // Adjust arrow position to point to the target
                const targetCenterX = targetRect.left + window.scrollX + (targetRect.width / 2);
                const arrowLeft = targetCenterX - left;
                tooltip.style.setProperty('--arrow-left', `${arrowLeft}px`);
                
                tooltip.style.top = `${top}px`;
                tooltip.style.left = `${left}px`;
            }, 0);
        }

        document.addEventListener('click', function() {
            const tooltip = document.getElementById('wordTooltip');
            if (tooltip.style.display === 'block') {
                tooltip.style.display = 'none';
            }
        });
        // Initialize on load
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
