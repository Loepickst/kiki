<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>日本語読解</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;500&display=swap');

        :root {
            --bg-color: #fdfaf5;
            --paper-color: #ffffff;
            --text-color: #2c2c2c;
            --accent-color: #b33e3e; 
            --sub-color: #787878;
            --popup-bg: #333333;
            --chinese-font: "Microsoft YaHei", "PingFang SC", sans-serif;
            --japanese-font: 'Noto Serif JP', serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--japanese-font);
            margin: 0;
            padding: 100px 15px 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* 顶部控制栏 */
        .top-bar {
            position: fixed; top: 0; left: 0; right: 0;
            height: 60px; background: rgba(253, 250, 245, 0.95);
            backdrop-filter: blur(8px);
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 25px; z-index: 1000;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        #today-date { font-size: 0.85rem; color: var(--accent-color); font-weight: 500; border-bottom: 1px solid; }
        .toggle-btn {
            background: white; color: var(--accent-color); border: 1px solid var(--accent-color);
            padding: 6px 14px; border-radius: 20px; font-size: 0.8rem;
            font-family: var(--chinese-font); cursor: pointer; transition: 0.3s;
        }
        .toggle-btn:hover { background: var(--accent-color); color: white; }

        /* 主容器 */
        .container {
            max-width: 720px; width: 100%;
            background: var(--paper-color); padding: 50px 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            box-sizing: border-box;
        }

        .header-title { text-align: center; margin-bottom: 50px; }
        .reading-block { margin-bottom: 45px; position: relative; }

        p.japanese {
            font-size: 1.15rem; line-height: 2.8; 
            text-align: justify; margin: 0;
        }

        ruby rt { font-size: 0.55em; color: var(--sub-color); letter-spacing: 0; }

        /* 译文（黑体中文） */
        .translation {
            display: none; margin-top: 20px; font-size: 0.95rem;
            color: #5a626b; line-height: 1.8; padding: 18px 20px;
            background-color: #f7f8f9; font-family: var(--chinese-font);
            border-left: 3px solid #eee; text-align: justify;
        }
        .translation::before { content: "訳"; display: block; font-size: 0.7rem; color: #ccc; margin-bottom: 5px; font-weight: bold; }

        /* 重点词汇样式 */
        .vocab-word {
            color: var(--accent-color);
            border-bottom: 2px solid #f2d0d0;
            cursor: pointer;
            font-weight: 500;
        }

        /* 动态气泡容器 */
        #smart-tooltip {
            position: absolute; z-index: 2000;
            background: var(--popup-bg); color: white;
            padding: 12px 16px; border-radius: 8px;
            font-size: 0.85rem; font-family: var(--chinese-font);
            line-height: 1.6; max-width: 280px; min-width: 140px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: none; opacity: 0; pointer-events: none;
        }
        #smart-tooltip::after {
            content: ""; position: absolute; top: 100%;
            border: 8px solid transparent; border-top-color: var(--popup-bg);
        }

        .footer { margin-top: 50px; color: #ccc; font-size: 0.8rem; letter-spacing: 3px; }
    </style>
</head>
<body>

<div class="top-bar">
    <!-- 左侧返回按钮 -->
    <a href="read.html" class="toggle-btn" style="text-decoration: none; margin-right: 15px;">← 戻る</a>
    
    <!-- 日期显示（可加 flex-grow 让它占据中间位置，或者保持原样） -->
    <div id="today-date" style="flex-grow: 1; text-align: center; border-bottom: none;">2026年2月23日 月曜日</div>
    
    <button class="toggle-btn" onclick="toggleTranslation()">訳文を表示/非表示</button>
</div>

<div class="container">
    <div class="header-title">
    <h2 style="font-weight: 500; letter-spacing: 0.1em; margin-bottom: 5px;">温泉での出来事</h2>
    <span style="color: #bbb; font-size: 0.8rem;">温泉里的插曲</span>
</div>

<div class="reading-block">
    <p class="japanese">
        たまには<ruby>日<rt>にち</rt></ruby><ruby>常<rt>じょう</rt></ruby>を<ruby>離<rt>はな</rt></ruby>れようと、ある<ruby>秘<rt>ひ</rt></ruby><ruby>境<rt>きょう</rt></ruby>の<ruby>温<rt>おん</rt></ruby><ruby>泉<rt>せん</rt></ruby>に<ruby>泊<rt>と</rt></ruby>まった<ruby>時<rt>とき</rt></ruby>だ。<ruby>夕<rt>ゆう</rt></ruby><ruby>食<rt>しょく</rt></ruby><ruby>後<rt>ご</rt></ruby>、<ruby>暗<rt>くら</rt></ruby>く<ruby>寒<rt>さむ</rt></ruby>い<ruby>廊<rt>ろう</rt></ruby><ruby>下<rt>か</rt></ruby>を<ruby>歩<rt>ある</rt></ruby>いて<ruby>女<rt>おんな</rt></ruby><ruby>風<rt>ぶ</rt></ruby><ruby>呂<rt>ろ</rt></ruby>に<ruby>向<rt>む</rt></ruby>かうと、<ruby>入<rt>いり</rt></ruby><ruby>口<rt>ぐち</rt></ruby>に<ruby>鍵<rt>かぎ</rt></ruby>がかかっていた。
    </p>
    <div class="translation">
        那是在我为了暂且逃离日常，于一家秘境温泉旅馆住宿时发生的事。晚饭后，我穿过昏暗寒冷的走廊走向女浴池，却发现入口被锁上了。
    </div>
</div>

<div class="reading-block">
    <p class="japanese">
        <ruby>案<rt>あん</rt></ruby><ruby>内<rt>ない</rt></ruby>によれば、<ruby>男<rt>だん</rt></ruby><ruby>女<rt>じょ</rt></ruby>ともに<ruby>四<rt>よ</rt></ruby><ruby>人<rt>にん</rt></ruby>も<ruby>入<rt>はい</rt></ruby>ればいっぱいになる<ruby>小<rt>ちい</rt></ruby>さな<ruby>風<rt>ふ</rt></ruby><ruby>呂<rt>ろ</rt></ruby><ruby>場<rt>ば</rt></ruby>だ。<ruby>先<rt>さき</rt></ruby>に<ruby>入<rt>はい</rt></ruby>った<ruby>誰<rt>だれ</rt></ruby>かが、<ruby>普<rt>ふ</rt></ruby><ruby>段<rt>だん</rt></ruby>の<span class="vocab-word" data-info="癖（くせ）：习惯，毛病。">癖</span>でつい<span class="vocab-word" data-info="施錠（せじょう）：上锁。"><ruby>施<rt>せ</rt></ruby><ruby>錠<rt>じょう</rt></ruby></span>したのだろう。<ruby>私<rt>わたし</rt></ruby>も<ruby>時<rt>とき</rt></ruby><ruby>々<rt>どき</rt></ruby>やるものなあと思いつつ<ruby>板<rt>いた</rt></ruby><ruby>戸<rt>ど</rt></ruby>を<ruby>叩<rt>たた</rt></ruby>き、「<ruby>鍵<rt>かぎ</rt></ruby>がかかってますよ」と<ruby>声<rt>こえ</rt></ruby>をかけた。<ruby>返<rt>へん</rt></ruby><ruby>事<rt>じ</rt></ruby>はない。<ruby>次<rt>つぎ</rt></ruby>に、「<ruby>中<rt>なか</rt></ruby>で<ruby>倒<rt>たお</rt></ruby>れているんじゃ」と<ruby>思<rt>おも</rt></ruby>った。<ruby>私<rt>わたし</rt></ruby>は<ruby>以<rt>い</rt></ruby><ruby>前<rt>ぜん</rt></ruby>、ある<ruby>方<rt>かた</rt></ruby>が<ruby>施<rt>せ</rt></ruby><ruby>錠<rt>じょう</rt></ruby>された<ruby>室<rt>しつ</rt></ruby><ruby>内<rt>ない</rt></ruby>で<ruby>急<rt>きゅう</rt></ruby><ruby>病<rt>びょう</rt></ruby>で<ruby>倒<rt>たお</rt></ruby>れ、<ruby>結<rt>けっ</rt></ruby><ruby>果<rt>か</rt></ruby>、<ruby>救<rt>きゅう</rt></ruby><ruby>命<rt>めい</rt></ruby><ruby>救<rt>きゅう</rt></ruby><ruby>急<rt>きゅう</rt></ruby>が<ruby>叶<rt>かな</rt></ruby>わなかった<ruby>場<rt>ば</rt></ruby>に<span class="vocab-word" data-info="居合わせた（いあわせた）：（原型：居合わせる）正好在场，碰巧在座。"><ruby>居<rt>い</rt></ruby><ruby>合<rt>あ</rt></ruby>わせた</span>。それを<ruby>思<rt>おも</rt></ruby>い<ruby>出<rt>だ</rt></ruby>して<span class="vocab-word" data-info="息を呑み（いきをのみ）：（原型：息を呑む）倒吸一口凉气，屏息，吃惊。"><ruby>息<rt>いき</rt></ruby>を<ruby>呑<rt>の</rt></ruby>み</span>、<ruby>宿<rt>やど</rt></ruby>の<ruby>人<rt>ひと</rt></ruby>を<ruby>呼<rt>よ</rt></ruby>ぶべきかと<ruby>考<rt>かんが</rt></ruby>えていると、<span class="vocab-word" data-info="かすかに：微弱地，隐约地。">かすかに</span><ruby>人<rt>ひと</rt></ruby><ruby>声<rt>ごえ</rt></ruby>が、それも<ruby>複<rt>ふく</rt></ruby><ruby>数<rt>すう</rt></ruby>のものが<ruby>聞<rt>き</rt></ruby>こえ、「いま<ruby>出<rt>で</rt></ruby>ます！」と<ruby>女<rt>じょ</rt></ruby><ruby>性<rt>せい</rt></ruby>の<ruby>声<rt>こえ</rt></ruby>がした。
    </p>
    <div class="translation">
        根据旅馆的介绍，这里的男女浴池都很小，进去四个人就满了。大概是先进去的某个人，出于平时的习惯顺手就把门锁上了吧。我一边想着“我自己也经常犯这种糊涂呢”，一边敲了敲木板门，喊了一声：“门锁上了哦。”里面没有回音。接着我转念一想，“该不会是在里面晕倒了吧”。接着，我脑海中闪过一个念头：“该不会是在里面晕倒了吧？”我以前曾碰巧遇到过有人在锁着门的室内突发急病倒下，结果没能抢救过来的情况。回想起这件事，我倒吸了一口凉气，正琢磨着要不要去叫旅馆的工作人员时，里面传来了微弱的人声，而且还不止一个人，接着听到一个女人的声音说：“我们马上出来！”
    </div>
</div>

<div class="reading-block">
    <p class="japanese">
        いや、<ruby>鍵<rt>かぎ</rt></ruby>さえ<ruby>開<rt>あ</rt></ruby>けてくれたら、<ruby>別<rt>べつ</rt></ruby>に<ruby>出<rt>で</rt></ruby>てくれなくていいんだけど……と<ruby>考<rt>かんが</rt></ruby>えたところで<ruby>気<rt>き</rt></ruby>が<ruby>付<rt>つ</rt></ruby>いた。<ruby>中<rt>なか</rt></ruby>にいるのは<ruby>男<rt>だん</rt></ruby><ruby>女<rt>じょ</rt></ruby>の<span class="vocab-word" data-info="ペア：Pair，一对男女，搭档。">ペア</span>のようだ。いや、そこ、<ruby>女<rt>おんな</rt></ruby><ruby>風<rt>ぶ</rt></ruby><ruby>呂<rt>ろ</rt></ruby>なんだけど。
    </p>
    <div class="translation">
        不是，只要把门锁打开就行，不用特意出来也没关系啊……刚想到这里，我突然反应过来。里面似乎是一对男女。不，等等，那里可是女浴池啊。
    </div>
</div>

<div class="reading-block">
    <p class="japanese">
        とはいえ、こうなってはしかたがない。<span class="vocab-word" data-info="見て見ぬふり（みてみぬふり）：装作没看见，视而不见。"><ruby>見<rt>み</rt></ruby>て<ruby>見<rt>み</rt></ruby>ぬふり</span>をするかと<ruby>廊<rt>ろう</rt></ruby><ruby>下<rt>か</rt></ruby>の<ruby>地<rt>ち</rt></ruby><ruby>図<rt>ず</rt></ruby>を<ruby>眺<rt>なが</rt></ruby>めていると、まず<ruby>男<rt>だん</rt></ruby><ruby>性<rt>せい</rt></ruby>が<ruby>一<rt>ひと</rt></ruby><ruby>人<rt>り</rt></ruby>、<ruby>私<rt>わたし</rt></ruby>の<ruby>背<rt>はい</rt></ruby><ruby>後<rt>ご</rt></ruby>を<ruby>通<rt>とお</rt></ruby>って<ruby>行<rt>い</rt></ruby>った。ついで<ruby>女<rt>じょ</rt></ruby><ruby>性<rt>せい</rt></ruby>が<ruby>出<rt>で</rt></ruby>て<ruby>来<rt>き</rt></ruby>て、「すみません」と<ruby>小<rt>こ</rt></ruby><ruby>声<rt>ごえ</rt></ruby>で<ruby>謝<rt>あやま</rt></ruby>って<ruby>去<rt>さ</rt></ruby>って<ruby>行<rt>い</rt></ruby>った。
    </p>
    <div class="translation">
        话虽如此，事已至此也没办法了。我寻思着装作没看见吧，便假装盯着走廊上的地图看。这时，先是一个男人从我身后走了过去。紧接着那个女人走出来，小声说了句“对不起”，也离开了。
    </div>
</div>

<div class="reading-block">
    <p class="japanese">
        <ruby>彼<rt>かれ</rt></ruby>らを<ruby>困<rt>こま</rt></ruby>らせたかったわけではない。ただ、どうすればよかったのか。<ruby>部<rt>へ</rt></ruby><ruby>屋<rt>や</rt></ruby>に<ruby>戻<rt>もど</rt></ruby>り、<ruby>同<rt>どう</rt></ruby><ruby>行<rt>こう</rt></ruby><ruby>者<rt>しゃ</rt></ruby>に<ruby>相<rt>そう</rt></ruby><ruby>談<rt>だん</rt></ruby>すると、「<ruby>入<rt>にゅう</rt></ruby><ruby>浴<rt>よく</rt></ruby><ruby>中<rt>ちゅう</rt></ruby>の<ruby>女<rt>じょ</rt></ruby><ruby>性<rt>せい</rt></ruby>のところに<ruby>無<rt>む</rt></ruby><ruby>関<rt>かん</rt></ruby><ruby>係<rt>けい</rt></ruby>な<ruby>男<rt>だん</rt></ruby><ruby>性<rt>せい</rt></ruby>が<ruby>押<rt>お</rt></ruby>し<ruby>入<rt>い</rt></ruby>ったことも<ruby>考<rt>かんが</rt></ruby>えられるから、<ruby>自<rt>じ</rt></ruby><ruby>分<rt>ぶん</rt></ruby>なら<ruby>男<rt>だん</rt></ruby><ruby>女<rt>じょ</rt></ruby>とも<ruby>引<rt>ひ</rt></ruby>き<ruby>留<rt>と</rt></ruby>めて、<ruby>本<rt>ほん</rt></ruby><ruby>当<rt>とう</rt></ruby>に<ruby>知<rt>し</rt></ruby>り<ruby>合<rt>あ</rt></ruby>いですか、<ruby>宿<rt>やど</rt></ruby>の<ruby>人<rt>ひと</rt></ruby>を<ruby>呼<rt>よ</rt></ruby>びますかと<ruby>聞<rt>き</rt></ruby>くかな」と<ruby>返<rt>かえ</rt></ruby>ってきた。なるほど、それもあり<ruby>得<rt>う</rt></ruby>る。<span class="vocab-word" data-info="とっさ：瞬间，刹那，立刻。">とっさ</span>の<ruby>想<rt>そう</rt></ruby><ruby>像<rt>ぞう</rt></ruby><ruby>力<rt>りょく</rt></ruby>が<ruby>足<rt>た</rt></ruby>りなかった<span class="vocab-word" data-info="己（おのれ）：自己。"><ruby>己<rt>おのれ</rt></ruby></span>を<span class="vocab-word" data-info="恥じた（はじた）：（原型：恥じる）感到羞耻，惭愧。"><ruby>恥<rt>は</rt></ruby>じた</span>が、<ruby>一<rt>いっ</rt></ruby><ruby>方<rt>ぽう</rt></ruby>でそうすることで<ruby>彼<rt>かれ</rt></ruby>らを<ruby>更<rt>さら</rt></ruby>に<ruby>困<rt>こま</rt></ruby>らせたかもしれない。
    </p>
    <div class="translation">
        我并不是想让他们难堪。只是，当时到底怎么做才好呢？回到房间后，我跟同伴商量了这件事，对方回答说：“也有可能是无关的男人闯进了正在洗澡的女人那里，换做是我，可能会把那对男女都拦下来，问问他们是不是真的认识，需不需要叫旅馆的人来。”原来如此，确实也有这种可能。我为自己瞬间想象力的匮乏感到羞愧，但另一方面，如果真那么做了，或许会让他们陷入更加尴尬的境地。
    </div>
</div>

<div class="reading-block">
    <p class="japanese">
        <ruby>人<rt>じん</rt></ruby><ruby>生<rt>せい</rt></ruby>の<ruby>選<rt>せん</rt></ruby><ruby>択<rt>たく</rt></ruby><ruby>肢<rt>し</rt></ruby>はたくさんあって、どれが<ruby>正<rt>ただ</rt></ruby>しいかは<ruby>分<rt>わ</rt></ruby>からない。また<ruby>自<rt>じ</rt></ruby><ruby>分<rt>ぶん</rt></ruby>の<ruby>想<rt>そう</rt></ruby><ruby>像<rt>ぞう</rt></ruby>が<ruby>目<rt>め</rt></ruby>の<ruby>前<rt>まえ</rt></ruby>の<ruby>現<rt>げん</rt></ruby><ruby>実<rt>じつ</rt></ruby>と<span class="vocab-word" data-info="合致する（がっちする）：一致，吻合。"><ruby>合<rt>がっ</rt></ruby><ruby>致<rt>ち</rt></ruby>する</span>かもまた<ruby>分<rt>わ</rt></ruby>からない。いやそもそも、<ruby>想<rt>そう</rt></ruby><ruby>像<rt>ぞう</rt></ruby>を<span class="vocab-word" data-info="軽々と（かるがると）：轻松地，轻易地。"><ruby>軽<rt>かる</rt></ruby>々と</span><ruby>越<rt>こ</rt></ruby>える<ruby>出<rt>で</rt></ruby><ruby>来<rt>き</rt></ruby><ruby>事<rt>ごと</rt></ruby>が<ruby>時<rt>とき</rt></ruby>に<ruby>起<rt>お</rt></ruby>きるからこそ、<ruby>人<rt>じん</rt></ruby><ruby>生<rt>せい</rt></ruby>はかくも<ruby>驚<rt>おどろ</rt></ruby>きに<ruby>満<rt>み</rt></ruby>ちているのだろう。<ruby>日<rt>にち</rt></ruby><ruby>常<rt>じょう</rt></ruby>を<ruby>離<rt>はな</rt></ruby>れた<ruby>温<rt>おん</rt></ruby><ruby>泉<rt>せん</rt></ruby><ruby>宿<rt>やど</rt></ruby>で、<span class="vocab-word" data-info="つくづく：深切地，痛切地，仔细地。">つくづく</span>そんなことを<ruby>考<rt>かんが</rt></ruby>えさせられた。
    </p>
    <div class="translation">
        人生的选择项有很多，到底哪个才是正确的，谁也不知道。而自己的想象是否与眼前的现实相符，同样无从知晓。不，说到底，正因为时不时会发生些轻易超越想象的事件，人生才会如此充满惊奇吧。在这远离日常的温泉旅馆里，我不禁深深地陷入了这样的沉思。
    </div>
</div>
</div>

<div id="smart-tooltip"></div>

<div class="footer">Ichigo Ichie - 一期一会</div>

<script>
    // 1. (已移除) 实时日期逻辑 -> 改为在 HTML 中手动输入

    // 2. 译文切换
    function toggleTranslation() {
        document.querySelectorAll('.translation').forEach(el => {
            el.style.display = (el.style.display === 'block') ? 'none' : 'block';
        });
    }

    // 3. 智能自适应气泡逻辑
    const tooltip = document.getElementById('smart-tooltip');
    let activeWord = null;

    document.querySelectorAll('.vocab-word').forEach(word => {
        word.addEventListener('click', function(e) {
            e.stopPropagation();
            if (activeWord === this) { hideTooltip(); return; }

            activeWord = this;
            tooltip.innerText = this.getAttribute('data-info');
            tooltip.style.display = 'block';

            const rect = this.getBoundingClientRect();
            const tipRect = tooltip.getBoundingClientRect();
            const screenWidth = window.innerWidth;
            
            // 计算初始位置
            let left = rect.left + (rect.width / 2) - (tipRect.width / 2);
            let top = rect.top + window.scrollY - tipRect.height - 12;

            // 溢出检测与修正
            const margin = 15;
            let arrowOffset = '50%';

            if (left < margin) {
                left = margin;
                arrowOffset = (rect.left + rect.width/2 - margin) + 'px';
            } else if (left + tipRect.width > screenWidth - margin) {
                left = screenWidth - tipRect.width - margin;
                arrowOffset = (rect.left + rect.width/2 - left) + 'px';
            }

            tooltip.style.left = left + 'px';
            tooltip.style.top = top + 'px';
            tooltip.style.opacity = '1';

            // 动态修正箭头位置
            const styleTag = document.getElementById('dynamic-arrow') || document.createElement('style');
            styleTag.id = 'dynamic-arrow';
            styleTag.innerHTML = `#smart-tooltip::after { left: ${arrowOffset} !important; transform: translateX(-50%); }`;
            document.head.appendChild(styleTag);
        });
    });

    function hideTooltip() {
        tooltip.style.opacity = '0';
        setTimeout(() => { tooltip.style.display = 'none'; }, 200);
        activeWord = null;
    }

    document.addEventListener('click', hideTooltip);
    window.addEventListener('resize', hideTooltip);
</script>

</body>
</html>