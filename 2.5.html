<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>日本語読解</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@300;500&display=swap');

        :root {
            --bg-color: #fdfaf5;
            --paper-color: #ffffff;
            --text-color: #2c2c2c;
            --accent-color: #b33e3e; 
            --sub-color: #787878;
            --popup-bg: #333333;
            --chinese-font: "Microsoft YaHei", "PingFang SC", sans-serif;
            --japanese-font: 'Noto Serif JP', serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--japanese-font);
            margin: 0;
            padding: 100px 15px 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* 顶部控制栏 */
        .top-bar {
            position: fixed; top: 0; left: 0; right: 0;
            height: 60px; background: rgba(253, 250, 245, 0.95);
            backdrop-filter: blur(8px);
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 25px; z-index: 1000;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        #today-date { font-size: 0.85rem; color: var(--accent-color); font-weight: 500; border-bottom: 1px solid; }
        .toggle-btn {
            background: white; color: var(--accent-color); border: 1px solid var(--accent-color);
            padding: 6px 14px; border-radius: 20px; font-size: 0.8rem;
            font-family: var(--chinese-font); cursor: pointer; transition: 0.3s;
        }
        .toggle-btn:hover { background: var(--accent-color); color: white; }

        /* 主容器 */
        .container {
            max-width: 720px; width: 100%;
            background: var(--paper-color); padding: 50px 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
            box-sizing: border-box;
        }

        .header-title { text-align: center; margin-bottom: 50px; }
        .reading-block { margin-bottom: 45px; position: relative; }

        p.japanese {
            font-size: 1.15rem; line-height: 2.8; 
            text-align: justify; margin: 0;
        }

        ruby rt { font-size: 0.55em; color: var(--sub-color); letter-spacing: 0; }

        /* 译文（黑体中文） */
        .translation {
            display: none; margin-top: 20px; font-size: 0.95rem;
            color: #5a626b; line-height: 1.8; padding: 18px 20px;
            background-color: #f7f8f9; font-family: var(--chinese-font);
            border-left: 3px solid #eee; text-align: justify;
        }
        .translation::before { content: "訳"; display: block; font-size: 0.7rem; color: #ccc; margin-bottom: 5px; font-weight: bold; }

        /* 重点词汇样式 */
        .vocab-word {
            color: var(--accent-color);
            border-bottom: 2px solid #f2d0d0;
            cursor: pointer;
            font-weight: 500;
        }

        /* 动态气泡容器 */
        #smart-tooltip {
            position: absolute; z-index: 2000;
            background: var(--popup-bg); color: white;
            padding: 12px 16px; border-radius: 8px;
            font-size: 0.85rem; font-family: var(--chinese-font);
            line-height: 1.6; max-width: 280px; min-width: 140px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: none; opacity: 0; pointer-events: none;
        }
        #smart-tooltip::after {
            content: ""; position: absolute; top: 100%;
            border: 8px solid transparent; border-top-color: var(--popup-bg);
        }

        .footer { margin-top: 50px; color: #ccc; font-size: 0.8rem; letter-spacing: 3px; }
    </style>
</head>
<body>

<div class="top-bar">
    <a href="read.html" class="toggle-btn" style="text-decoration: none; margin-right: 15px;">← 戻る</a>
     <div id="today-date" style="flex-grow: 1; text-align: center; border-bottom: none;">2026年2月5日 木曜日</div>
    <button class="toggle-btn" onclick="toggleTranslation()">訳文を表示/非表示</button>
</div>

<div class="container">
    <div class="header-title">
    <h2 style="font-weight: 500; letter-spacing: 0.1em; margin-bottom: 5px;">季節のタイマー</h2>
    <span style="color: #bbb; font-size: 0.8rem;">季节的计时器</span>
</div>

<div class="reading-block">
    <p class="japanese">
        <ruby>春<rt>はる</rt></ruby><ruby>野菜<rt>やさい</rt></ruby>が<ruby>好<rt>す</rt></ruby>きで、<ruby>毎年<rt>まいとし</rt></ruby>、<ruby>季節<rt>きせつ</rt></ruby>になるとそればかり<ruby>喜<rt>よろこ</rt></ruby>んで<ruby>買<rt>か</rt></ruby>っている。<span class="vocab-word" data-info="瑞々しい（みずみずしい）：水灵，鲜嫩，有光泽。形容蔬菜新鲜多汁。">瑞々しい</span><ruby>春<rt>はる</rt></ruby>キャベツや<ruby>新<rt>しん</rt></ruby><ruby>玉<rt>たま</rt></ruby>ねぎはもちろん、フキノトウやタラの<ruby>芽<rt>め</rt></ruby>を<ruby>始<rt>はじ</rt></ruby>めとする<ruby>山菜<rt>さんさい</rt></ruby><ruby>類<rt>るい</rt></ruby>も<span class="vocab-word" data-info="好物（こうぶつ）：爱吃的东西，嗜好品。">好物</span>なので、この<ruby>時期<rt>じき</rt></ruby>に<ruby>山<rt>やま</rt></ruby>に<ruby>近<rt>ちか</rt></ruby>い<ruby>場所<rt>ばしょ</rt></ruby>に<ruby>行<rt>い</rt></ruby>くと、<ruby>直販所<rt>ちょくはんじょ</rt></ruby>で<ruby>大量<rt>たいりょう</rt></ruby>に<ruby>買<rt>か</rt></ruby>い<ruby>物<rt>もの</rt></ruby>をする。
    </p>
    <div class="translation">
        我对春季的时蔬情有独钟，每到这个时节，总会兴冲冲地买个不停。不仅是鲜嫩翠绿的春季卷心菜和新洋葱，像蜂斗菜、楤木芽这类山野菜也是我的心头好。因此，每到这段时间，我若去了靠近山里的地方，定会在产地直销站大肆采购一番。
    </div>
</div>

<div class="reading-block">
    <p class="japanese">
        だが<ruby>今年<rt>ことし</rt></ruby>はそんなことも<ruby>叶<rt>かな</rt></ruby>わず、<ruby>近所<rt>きんじょ</rt></ruby>のスーパーで<ruby>野菜<rt>やさい</rt></ruby><ruby>欲<rt>よく</rt></ruby>を<ruby>満<rt>み</rt></ruby>たすしかなかった。タケノコだけは<ruby>友人<rt>ゆうじん</rt></ruby>が<ruby>送<rt>おく</rt></ruby>ってくれたのでおなかいっぱい<ruby>食<rt>た</rt></ruby>べられたが、その<ruby>他<rt>た</rt></ruby>の<ruby>山菜<rt>さんさい</rt></ruby><ruby>類<rt>るい</rt></ruby>にはほとんど<ruby>出会<rt>であ</rt></ruby>えず、<ruby>寂<rt>さび</rt></ruby>しい<span class="vocab-word" data-info="思いをした（おもいをした）：（词组）有了...的感觉，尝到了...的滋味。这里指感到寂寞、遗憾。">思いをした</span>。
    </p>
    <div class="translation">
        然而今年未能如愿，只能在附近的超市里勉强填补这份对蔬菜的渴望。虽说朋友寄来的竹笋让我吃了个过瘾，但几乎没能遇见其他的山野菜，心中难免感到落寞。
    </div>
</div>

<div class="reading-block">
    <p class="japanese">
        ちょうど<ruby>五年前<rt>ごねんまえ</rt></ruby>、<ruby>実家<rt>じっか</rt></ruby>でちょっとした<span class="vocab-word" data-info="騒動（そうどう）：骚动，风波，纠纷。">騒動</span>が<span class="vocab-word" data-info="持ち上がり（もちあがり）：（原型：持ち上がる）发生，突发。指问题或事件突然发生。">持ち上がり</span>、ひと<ruby>月<rt>つき</rt></ruby>ほど、<ruby>朝晩<rt>あさばん</rt></ruby>の<ruby>区別<rt>くべつ</rt></ruby>がつかぬほどバタバタした。その<span class="vocab-word" data-info="余燼（よじん）：余烬。比喻事件结束后残留的影响或未完全平息的麻烦。">余燼</span>はいまだ<span class="vocab-word" data-info="燻って（くすぶって）：（原型：燻る）冒烟，闷烧。比喻纠纷或问题虽然平息但仍未彻底解决，还在持续。">燻って</span>いるのだが、<span class="vocab-word" data-info="ともあれ：总之，不管怎么说，暂且不论。">ともあれ</span><ruby>最初<rt>さいしょ</rt></ruby>の<span class="vocab-word" data-info="波乱（はらん）：波澜，风波，动荡。">波乱</span>がわずかに<ruby>鎮<rt>しず</rt></ruby>まった<ruby>頃<rt>ころ</rt></ruby>、<ruby>母<rt>はは</rt></ruby>が<ruby>突然<rt>とつぜん</rt></ruby>、「<ruby>今年<rt>ことし</rt></ruby>は<ruby>枇杷<rt>びわ</rt></ruby>を<ruby>食<rt>た</rt></ruby>べていない！」と<ruby>言<rt>い</rt></ruby>い<ruby>出<rt>だ</rt></ruby>した。
    </p>
    <div class="translation">
        回想起整整五年前，老家发生了一场小风波。在那一个月里，我整天忙得脚不沾地，甚至分不清白天黑夜。尽管那场动荡的“余烬”至今仍未彻底熄灭，但就在最初的波澜稍微平息之时，母亲突然冒出一句：“今年还没吃上枇杷呢！”
    </div>
</div>

<div class="reading-block">
    <p class="japanese">
        <ruby>初夏<rt>しょか</rt></ruby>の<ruby>果物<rt>くだもの</rt></ruby>である<ruby>枇杷<rt>びわ</rt></ruby>は<ruby>母<rt>はは</rt></ruby>の<ruby>大好物<rt>だいこうぶつ</rt></ruby>。ただその<ruby>時<rt>とき</rt></ruby>はすでに<ruby>旬<rt>しゅん</rt></ruby>を<ruby>過<rt>す</rt></ruby>ぎかけていたので、スーパーの<ruby>方<rt>かた</rt></ruby>に<ruby>相談<rt>そうだん</rt></ruby>の<ruby>上<rt>うえ</rt></ruby>、<span class="vocab-word" data-info="ケース単位（たんい）：以箱为单位。指整箱购买。">ケース単位</span>で<ruby>取<rt>と</rt></ruby>り<ruby>寄<rt>よ</rt></ruby>せていただいた。<ruby>注文<rt>ちゅうもん</rt></ruby>も<span class="vocab-word" data-info="引き取り（ひきとり）：领取，取货。">引き取り</span>も<ruby>意外<rt>いがい</rt></ruby>と<ruby>手間<rt>てま</rt></ruby>がかかり、「<ruby>枇杷<rt>びわ</rt></ruby>ぐらいで<ruby>文句<rt>もんく</rt></ruby>を<ruby>言<rt>い</rt></ruby>わなくても」と<ruby>思<rt>おも</rt></ruby>ったが、<ruby>複数<rt>ふくすう</rt></ruby>の<ruby>春<rt>はる</rt></ruby><ruby>野菜<rt>やさい</rt></ruby>に<ruby>出会<rt>であ</rt></ruby>えぬまま<ruby>春<rt>はる</rt></ruby>が<ruby>過<rt>す</rt></ruby>ぎた<ruby>今<rt>いま</rt></ruby>は、<ruby>母<rt>はは</rt></ruby>の<ruby>気持<rt>きも</rt></ruby>ちがよく<ruby>分<rt>わ</rt></ruby>かる。
    </p>
    <div class="translation">
        枇杷是初夏的果实，也是母亲的最爱。只是当时花期已近尾声，我便去超市咨询，特意按箱订购了回来。那时我觉得订货和取货都意外地麻烦，心想“不就是没吃到枇杷嘛，至于抱怨吗？”。可直到如今，当我错过了数种春菜而眼睁睁看着春天溜走时，才终于体会到了母亲当时的心境。
    </div>
</div>

<div class="reading-block">
    <p class="japanese">
        <ruby>季節<rt>きせつ</rt></ruby>とは<ruby>自分<rt>じぶん</rt></ruby>で<ruby>考<rt>かんが</rt></ruby>えている<ruby>以上<rt>いじょう</rt></ruby>に、<ruby>人<rt>ひと</rt></ruby>の<span class="vocab-word" data-info="肌身（はだみ）：身体，肌肤。常用于形容紧贴身体、切身感受。">肌身</span>にぴったり<ruby>張<rt>は</rt></ruby>り<ruby>付<rt>つ</rt></ruby>いているものらしい。そして<span class="vocab-word" data-info="折々（おりおり）：时时刻刻，各个季节，随时。">折々</span>の<ruby>風物詩<rt>ふうぶつし</rt></ruby>や<ruby>食<rt>た</rt></ruby>べ<ruby>物<rt>もの</rt></ruby>やイベントなどはその<ruby>推移<rt>すいい</rt></ruby>を<ruby>知<rt>し</rt></ruby>らせる<span class="vocab-word" data-info="タイマー：Timer，定时器，计时器。">タイマー</span>で、それらに<ruby>触<rt>ふ</rt></ruby>れぬまま<ruby>季節<rt>きせつ</rt></ruby>が<ruby>過<rt>す</rt></ruby>ぎると、<ruby>自分<rt>じぶん</rt></ruby>だけが<span class="vocab-word" data-info="無理やり（むりやり）：强行，硬是，强制性地。">無理やり</span><ruby>一<rt>いっ</rt></ruby>カ<ruby>所<rt>しょ</rt></ruby>に<ruby>立<rt>た</rt></ruby>ち<ruby>止<rt>ど</rt></ruby>まらされているような<ruby>焦燥<rt>しょうそう</rt></ruby>を<ruby>覚<rt>おぼ</rt></ruby>えるのだ。
    </p>
    <div class="translation">
        季节这种东西，似乎比我们想象中更紧密地贴合在人的肌肤之上。 而那些应时的风物诗、食物或节庆，就像是告知季节流转的“计时器”。若没能触碰到这些便任由季节更迭，人会产生一种只有自己被粗暴地强留在原地、停滞不前的焦虑感。
    </div>
</div>

<div class="reading-block">
    <p class="japanese">
        ちなみに<ruby>今年<rt>ことし</rt></ruby>は<ruby>長崎<rt>ながさき</rt></ruby>から<ruby>美味<rt>おい</rt></ruby>しい<ruby>枇杷<rt>びわ</rt></ruby>をお<ruby>送<rt>おく</rt></ruby>りいただき、<ruby>母<rt>はは</rt></ruby>は<ruby>満足<rt>まんぞく</rt></ruby>のうちに<ruby>初夏<rt>しょか</rt></ruby>を<ruby>迎<rt>むか</rt></ruby>えている。<ruby>一方<rt>いっぽう</rt></ruby>で<ruby>私<rt>わたし</rt></ruby>はまだ<ruby>春<rt>はる</rt></ruby>のただ<ruby>中<rt>なか</rt></ruby>に<span class="vocab-word" data-info="置き去り（おきざり）：丢下，抛弃，遗弃。">置き去り</span>にされているような<ruby>気分<rt>きぶん</rt></ruby>でいたが、<ruby>先日<rt>せんじつ</rt></ruby>の<ruby>夜<rt>よる</rt></ruby>、<ruby>窓<rt>まど</rt></ruby>の<ruby>網戸<rt>あみど</rt></ruby>に<ruby>張<rt>は</rt></ruby>り<ruby>付<rt>つ</rt></ruby>くカメムシを<ruby>見<rt>み</rt></ruby>かけ、「ああ、もうそんな<ruby>季節<rt>きせつ</rt></ruby>か」との<ruby>声<rt>こえ</rt></ruby>が<ruby>思<rt>おも</rt></ruby>わず<ruby>漏<rt>も</rt></ruby>れた。
    </p>
    <div class="translation">
        顺带一提，今年母亲收到了从长崎寄来的美味枇杷，在满足中迎来了初夏。而我此前却一直觉得自己像是被遗弃在了春天的正中央，直到前几天深夜，我看到趴在窗户纱窗上的椿象，才不由自主地脱口而出：“啊，已经是这个季节了啊。”
    </div>
</div>

<div class="reading-block">
    <p class="japanese">
        わかりやすい<ruby>季節<rt>きせつ</rt></ruby>の<span class="vocab-word" data-info="移ろい（うつろい）：变迁，推移，变化。">移ろい</span>は、これからはなかなか<ruby>手<rt>て</rt></ruby>に<ruby>入<rt>い</rt></ruby>れ<ruby>難<rt>がた</rt></ruby>くなるのかもしれない。しかし<ruby>道路<rt>どうろ</rt></ruby>の<span class="vocab-word" data-info="脇（わき）：旁边，侧面。这里指路边。">脇</span>に<ruby>生<rt>は</rt></ruby>える<ruby>雑草<rt>ざっそう</rt></ruby>にも、<ruby>窓<rt>まど</rt></ruby>に<ruby>寄<rt>よ</rt></ruby>る<ruby>虫<rt>むし</rt></ruby>にも、<ruby>折々<rt>おりおり</rt></ruby>の<ruby>影<rt>かげ</rt></ruby>はあるはず。そういう<ruby>小<rt>ちい</rt></ruby>さな<ruby>季節<rt>きせつ</rt></ruby>を、<ruby>少<rt>すこ</rt></ruby>しずつ<ruby>探<rt>さが</rt></ruby>していきたい。
    </p>
    <div class="translation">
        那种显而易见的季节流转，往后或许会变得越来越难寻觅。但我想，无论是路边丛生的杂草，还是窗前凑趣的昆虫，想必都藏着每个时节特有的影子。我想要一点一点地，去发掘这些细微的季节之光。
    </div>
</div>
</div>

<div id="smart-tooltip"></div>

<div class="footer">Ichigo Ichie - 一期一会</div>

<script>
    // 1. 实时日期
    const dateEl = document.getElementById('today-date');
    const now = new Date();
    dateEl.innerText = now.toLocaleDateString('ja-JP', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'short' });

    // 2. 译文切换
    function toggleTranslation() {
        document.querySelectorAll('.translation').forEach(el => {
            el.style.display = (el.style.display === 'block') ? 'none' : 'block';
        });
    }

    // 3. 智能自适应气泡逻辑
    const tooltip = document.getElementById('smart-tooltip');
    let activeWord = null;

    document.querySelectorAll('.vocab-word').forEach(word => {
        word.addEventListener('click', function(e) {
            e.stopPropagation();
            if (activeWord === this) { hideTooltip(); return; }

            activeWord = this;
            tooltip.innerText = this.getAttribute('data-info');
            tooltip.style.display = 'block';

            const rect = this.getBoundingClientRect();
            const tipRect = tooltip.getBoundingClientRect();
            const screenWidth = window.innerWidth;
            
            // 计算初始位置
            let left = rect.left + (rect.width / 2) - (tipRect.width / 2);
            let top = rect.top + window.scrollY - tipRect.height - 12;

            // 溢出检测与修正
            const margin = 15;
            let arrowOffset = '50%';

            if (left < margin) {
                left = margin;
                arrowOffset = (rect.left + rect.width/2 - margin) + 'px';
            } else if (left + tipRect.width > screenWidth - margin) {
                left = screenWidth - tipRect.width - margin;
                arrowOffset = (rect.left + rect.width/2 - left) + 'px';
            }

            tooltip.style.left = left + 'px';
            tooltip.style.top = top + 'px';
            tooltip.style.opacity = '1';

            // 动态修正箭头位置
            const styleTag = document.getElementById('dynamic-arrow') || document.createElement('style');
            styleTag.id = 'dynamic-arrow';
            styleTag.innerHTML = `#smart-tooltip::after { left: ${arrowOffset} !important; transform: translateX(-50%); }`;
            document.head.appendChild(styleTag);
        });
    });

    function hideTooltip() {
        tooltip.style.opacity = '0';
        setTimeout(() => { tooltip.style.display = 'none'; }, 200);
        activeWord = null;
    }

    document.addEventListener('click', hideTooltip);
    window.addEventListener('resize', hideTooltip);
</script>

</body>
</html>
